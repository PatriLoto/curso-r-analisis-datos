<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>ml-02.utf8</title>
    <meta charset="utf-8" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/hygge.css" rel="stylesheet" />
    <link rel="stylesheet" href="animate.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: inverse, center


# &lt;svg style="height:0.8em;top:.04em;position:relative;fill:steelblue;" viewBox="0 0 581 512"&gt;&lt;path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/&gt;&lt;/svg&gt;  para anÃ¡lisis de datos ðŸš€&lt;br&gt; &lt;br&gt; 

## ðŸŽ‰ModelizaciÃ³n con tidymodels ðŸ’»
### Titanic 

&lt;br&gt; &lt;br&gt; &lt;br&gt; 

.large[Roxana N. VillafaÃ±e | LEMyP | &lt;a href='http://twitter.com/data_datum'&gt;&lt;svg style="height:0.8em;top:.04em;position:relative;fill:steelblue;" viewBox="0 0 512 512"&gt;&lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/&gt;&lt;/svg&gt; @data_datum&lt;/a&gt;] &lt;br&gt; 
.large[Florencia D'Andrea | INTA-CONICET | &lt;a href="http://twitter.com/cantoflor_87"&gt; &lt;svg style="height:0.8em;top:.04em;position:relative;fill:steelblue;" viewBox="0 0 512 512"&gt;&lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/&gt;&lt;/svg&gt; @cantoflor_87&lt;/a&gt;&lt;br&gt;] 


&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt; Slides disponibles en &lt;https://bit.ly/curso-r-fca&gt; âœ¨
&lt;br&gt; PÃ¡gina web del curso en &lt;https://curso-r-fca.netlify.com&gt; ðŸŒŸ

---

background-image: url(C:/Users/Roxana/curso-r-analisis-datos/img/text-msg.png)
background-size: cover
class: center, middle

# âœ¨ Data Desbalanceada

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

# Dataset: Titanic

Link: https://www.kaggle.com/c/titanic/data




---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

# Ingreso de los datos

```r
library(readr)
train_titanic&lt;-read.csv("C://Users/Roxana/curso-r-analisis-datos/data/train_titanic.csv")
```

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;


```r
head(train_titanic)
```

```
##   PassengerId Survived Pclass
## 1           1        0      3
## 2           2        1      1
## 3           3        1      3
## 4           4        1      1
## 5           5        0      3
## 6           6        0      3
##                                                  Name    Sex Age SibSp Parch
## 1                             Braund, Mr. Owen Harris   male  22     1     0
## 2 Cumings, Mrs. John Bradley (Florence Briggs Thayer) female  38     1     0
## 3                              Heikkinen, Miss. Laina female  26     0     0
## 4        Futrelle, Mrs. Jacques Heath (Lily May Peel) female  35     1     0
## 5                            Allen, Mr. William Henry   male  35     0     0
## 6                                    Moran, Mr. James   male  NA     0     0
##             Ticket    Fare Cabin Embarked
## 1        A/5 21171  7.2500              S
## 2         PC 17599 71.2833   C85        C
## 3 STON/O2. 3101282  7.9250              S
## 4           113803 53.1000  C123        S
## 5           373450  8.0500              S
## 6           330877  8.4583              Q
```

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

### Tenemos en total 891 casos y 12 variables

```r
str(train_titanic)
```

```
## 'data.frame':	891 obs. of  12 variables:
##  $ PassengerId: int  1 2 3 4 5 6 7 8 9 10 ...
##  $ Survived   : int  0 1 1 1 0 0 0 0 1 1 ...
##  $ Pclass     : int  3 1 3 1 3 3 1 3 3 2 ...
##  $ Name       : Factor w/ 891 levels "Abbing, Mr. Anthony",..: 109 191 358 277 16 559 520 629 417 581 ...
##  $ Sex        : Factor w/ 2 levels "female","male": 2 1 1 1 2 2 2 2 1 1 ...
##  $ Age        : num  22 38 26 35 35 NA 54 2 27 14 ...
##  $ SibSp      : int  1 1 0 1 0 0 0 3 0 1 ...
##  $ Parch      : int  0 0 0 0 0 0 0 1 2 0 ...
##  $ Ticket     : Factor w/ 681 levels "110152","110413",..: 524 597 670 50 473 276 86 396 345 133 ...
##  $ Fare       : num  7.25 71.28 7.92 53.1 8.05 ...
##  $ Cabin      : Factor w/ 148 levels "","A10","A14",..: 1 83 1 57 1 1 131 1 1 1 ...
##  $ Embarked   : Factor w/ 4 levels "","C","Q","S": 4 2 4 4 4 3 4 4 4 2 ...
```


---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

# Vamos a eliminar los datos que no son importantes para la predicciÃ³n


```r
library(dplyr)
cols&lt;-c("Name", "Ticket", "Sex", "Cabin", "Embarked")
train_titanic &lt;- train_titanic %&gt;%
  select(-cols)%&gt;%
  select_all(tolower)
train_titanic
```

```
##     passengerid survived pclass   age sibsp parch     fare
## 1             1        0      3 22.00     1     0   7.2500
## 2             2        1      1 38.00     1     0  71.2833
## 3             3        1      3 26.00     0     0   7.9250
## 4             4        1      1 35.00     1     0  53.1000
## 5             5        0      3 35.00     0     0   8.0500
## 6             6        0      3    NA     0     0   8.4583
## 7             7        0      1 54.00     0     0  51.8625
## 8             8        0      3  2.00     3     1  21.0750
## 9             9        1      3 27.00     0     2  11.1333
## 10           10        1      2 14.00     1     0  30.0708
## 11           11        1      3  4.00     1     1  16.7000
## 12           12        1      1 58.00     0     0  26.5500
## 13           13        0      3 20.00     0     0   8.0500
## 14           14        0      3 39.00     1     5  31.2750
## 15           15        0      3 14.00     0     0   7.8542
## 16           16        1      2 55.00     0     0  16.0000
## 17           17        0      3  2.00     4     1  29.1250
## 18           18        1      2    NA     0     0  13.0000
## 19           19        0      3 31.00     1     0  18.0000
## 20           20        1      3    NA     0     0   7.2250
## 21           21        0      2 35.00     0     0  26.0000
## 22           22        1      2 34.00     0     0  13.0000
## 23           23        1      3 15.00     0     0   8.0292
## 24           24        1      1 28.00     0     0  35.5000
## 25           25        0      3  8.00     3     1  21.0750
## 26           26        1      3 38.00     1     5  31.3875
## 27           27        0      3    NA     0     0   7.2250
## 28           28        0      1 19.00     3     2 263.0000
## 29           29        1      3    NA     0     0   7.8792
## 30           30        0      3    NA     0     0   7.8958
## 31           31        0      1 40.00     0     0  27.7208
## 32           32        1      1    NA     1     0 146.5208
## 33           33        1      3    NA     0     0   7.7500
## 34           34        0      2 66.00     0     0  10.5000
## 35           35        0      1 28.00     1     0  82.1708
## 36           36        0      1 42.00     1     0  52.0000
## 37           37        1      3    NA     0     0   7.2292
## 38           38        0      3 21.00     0     0   8.0500
## 39           39        0      3 18.00     2     0  18.0000
## 40           40        1      3 14.00     1     0  11.2417
## 41           41        0      3 40.00     1     0   9.4750
## 42           42        0      2 27.00     1     0  21.0000
## 43           43        0      3    NA     0     0   7.8958
## 44           44        1      2  3.00     1     2  41.5792
## 45           45        1      3 19.00     0     0   7.8792
## 46           46        0      3    NA     0     0   8.0500
## 47           47        0      3    NA     1     0  15.5000
## 48           48        1      3    NA     0     0   7.7500
## 49           49        0      3    NA     2     0  21.6792
## 50           50        0      3 18.00     1     0  17.8000
## 51           51        0      3  7.00     4     1  39.6875
## 52           52        0      3 21.00     0     0   7.8000
## 53           53        1      1 49.00     1     0  76.7292
## 54           54        1      2 29.00     1     0  26.0000
## 55           55        0      1 65.00     0     1  61.9792
## 56           56        1      1    NA     0     0  35.5000
## 57           57        1      2 21.00     0     0  10.5000
## 58           58        0      3 28.50     0     0   7.2292
## 59           59        1      2  5.00     1     2  27.7500
## 60           60        0      3 11.00     5     2  46.9000
## 61           61        0      3 22.00     0     0   7.2292
## 62           62        1      1 38.00     0     0  80.0000
## 63           63        0      1 45.00     1     0  83.4750
## 64           64        0      3  4.00     3     2  27.9000
## 65           65        0      1    NA     0     0  27.7208
## 66           66        1      3    NA     1     1  15.2458
## 67           67        1      2 29.00     0     0  10.5000
## 68           68        0      3 19.00     0     0   8.1583
## 69           69        1      3 17.00     4     2   7.9250
## 70           70        0      3 26.00     2     0   8.6625
## 71           71        0      2 32.00     0     0  10.5000
## 72           72        0      3 16.00     5     2  46.9000
## 73           73        0      2 21.00     0     0  73.5000
## 74           74        0      3 26.00     1     0  14.4542
## 75           75        1      3 32.00     0     0  56.4958
## 76           76        0      3 25.00     0     0   7.6500
## 77           77        0      3    NA     0     0   7.8958
## 78           78        0      3    NA     0     0   8.0500
## 79           79        1      2  0.83     0     2  29.0000
## 80           80        1      3 30.00     0     0  12.4750
## 81           81        0      3 22.00     0     0   9.0000
## 82           82        1      3 29.00     0     0   9.5000
## 83           83        1      3    NA     0     0   7.7875
## 84           84        0      1 28.00     0     0  47.1000
## 85           85        1      2 17.00     0     0  10.5000
## 86           86        1      3 33.00     3     0  15.8500
## 87           87        0      3 16.00     1     3  34.3750
## 88           88        0      3    NA     0     0   8.0500
## 89           89        1      1 23.00     3     2 263.0000
## 90           90        0      3 24.00     0     0   8.0500
## 91           91        0      3 29.00     0     0   8.0500
## 92           92        0      3 20.00     0     0   7.8542
## 93           93        0      1 46.00     1     0  61.1750
## 94           94        0      3 26.00     1     2  20.5750
## 95           95        0      3 59.00     0     0   7.2500
## 96           96        0      3    NA     0     0   8.0500
## 97           97        0      1 71.00     0     0  34.6542
## 98           98        1      1 23.00     0     1  63.3583
## 99           99        1      2 34.00     0     1  23.0000
## 100         100        0      2 34.00     1     0  26.0000
## 101         101        0      3 28.00     0     0   7.8958
## 102         102        0      3    NA     0     0   7.8958
## 103         103        0      1 21.00     0     1  77.2875
## 104         104        0      3 33.00     0     0   8.6542
## 105         105        0      3 37.00     2     0   7.9250
## 106         106        0      3 28.00     0     0   7.8958
## 107         107        1      3 21.00     0     0   7.6500
## 108         108        1      3    NA     0     0   7.7750
## 109         109        0      3 38.00     0     0   7.8958
## 110         110        1      3    NA     1     0  24.1500
## 111         111        0      1 47.00     0     0  52.0000
## 112         112        0      3 14.50     1     0  14.4542
## 113         113        0      3 22.00     0     0   8.0500
## 114         114        0      3 20.00     1     0   9.8250
## 115         115        0      3 17.00     0     0  14.4583
## 116         116        0      3 21.00     0     0   7.9250
## 117         117        0      3 70.50     0     0   7.7500
## 118         118        0      2 29.00     1     0  21.0000
## 119         119        0      1 24.00     0     1 247.5208
## 120         120        0      3  2.00     4     2  31.2750
## 121         121        0      2 21.00     2     0  73.5000
## 122         122        0      3    NA     0     0   8.0500
## 123         123        0      2 32.50     1     0  30.0708
## 124         124        1      2 32.50     0     0  13.0000
## 125         125        0      1 54.00     0     1  77.2875
## 126         126        1      3 12.00     1     0  11.2417
## 127         127        0      3    NA     0     0   7.7500
## 128         128        1      3 24.00     0     0   7.1417
## 129         129        1      3    NA     1     1  22.3583
## 130         130        0      3 45.00     0     0   6.9750
## 131         131        0      3 33.00     0     0   7.8958
## 132         132        0      3 20.00     0     0   7.0500
## 133         133        0      3 47.00     1     0  14.5000
## 134         134        1      2 29.00     1     0  26.0000
## 135         135        0      2 25.00     0     0  13.0000
## 136         136        0      2 23.00     0     0  15.0458
## 137         137        1      1 19.00     0     2  26.2833
## 138         138        0      1 37.00     1     0  53.1000
## 139         139        0      3 16.00     0     0   9.2167
## 140         140        0      1 24.00     0     0  79.2000
## 141         141        0      3    NA     0     2  15.2458
## 142         142        1      3 22.00     0     0   7.7500
## 143         143        1      3 24.00     1     0  15.8500
## 144         144        0      3 19.00     0     0   6.7500
## 145         145        0      2 18.00     0     0  11.5000
## 146         146        0      2 19.00     1     1  36.7500
## 147         147        1      3 27.00     0     0   7.7958
## 148         148        0      3  9.00     2     2  34.3750
## 149         149        0      2 36.50     0     2  26.0000
## 150         150        0      2 42.00     0     0  13.0000
## 151         151        0      2 51.00     0     0  12.5250
## 152         152        1      1 22.00     1     0  66.6000
## 153         153        0      3 55.50     0     0   8.0500
## 154         154        0      3 40.50     0     2  14.5000
## 155         155        0      3    NA     0     0   7.3125
## 156         156        0      1 51.00     0     1  61.3792
## 157         157        1      3 16.00     0     0   7.7333
## 158         158        0      3 30.00     0     0   8.0500
## 159         159        0      3    NA     0     0   8.6625
## 160         160        0      3    NA     8     2  69.5500
## 161         161        0      3 44.00     0     1  16.1000
## 162         162        1      2 40.00     0     0  15.7500
## 163         163        0      3 26.00     0     0   7.7750
## 164         164        0      3 17.00     0     0   8.6625
## 165         165        0      3  1.00     4     1  39.6875
## 166         166        1      3  9.00     0     2  20.5250
## 167         167        1      1    NA     0     1  55.0000
## 168         168        0      3 45.00     1     4  27.9000
## 169         169        0      1    NA     0     0  25.9250
## 170         170        0      3 28.00     0     0  56.4958
## 171         171        0      1 61.00     0     0  33.5000
## 172         172        0      3  4.00     4     1  29.1250
## 173         173        1      3  1.00     1     1  11.1333
## 174         174        0      3 21.00     0     0   7.9250
## 175         175        0      1 56.00     0     0  30.6958
## 176         176        0      3 18.00     1     1   7.8542
## 177         177        0      3    NA     3     1  25.4667
## 178         178        0      1 50.00     0     0  28.7125
## 179         179        0      2 30.00     0     0  13.0000
## 180         180        0      3 36.00     0     0   0.0000
## 181         181        0      3    NA     8     2  69.5500
## 182         182        0      2    NA     0     0  15.0500
## 183         183        0      3  9.00     4     2  31.3875
## 184         184        1      2  1.00     2     1  39.0000
## 185         185        1      3  4.00     0     2  22.0250
## 186         186        0      1    NA     0     0  50.0000
## 187         187        1      3    NA     1     0  15.5000
## 188         188        1      1 45.00     0     0  26.5500
## 189         189        0      3 40.00     1     1  15.5000
## 190         190        0      3 36.00     0     0   7.8958
## 191         191        1      2 32.00     0     0  13.0000
## 192         192        0      2 19.00     0     0  13.0000
## 193         193        1      3 19.00     1     0   7.8542
## 194         194        1      2  3.00     1     1  26.0000
## 195         195        1      1 44.00     0     0  27.7208
## 196         196        1      1 58.00     0     0 146.5208
## 197         197        0      3    NA     0     0   7.7500
## 198         198        0      3 42.00     0     1   8.4042
## 199         199        1      3    NA     0     0   7.7500
## 200         200        0      2 24.00     0     0  13.0000
## 201         201        0      3 28.00     0     0   9.5000
## 202         202        0      3    NA     8     2  69.5500
## 203         203        0      3 34.00     0     0   6.4958
## 204         204        0      3 45.50     0     0   7.2250
## 205         205        1      3 18.00     0     0   8.0500
## 206         206        0      3  2.00     0     1  10.4625
## 207         207        0      3 32.00     1     0  15.8500
## 208         208        1      3 26.00     0     0  18.7875
## 209         209        1      3 16.00     0     0   7.7500
## 210         210        1      1 40.00     0     0  31.0000
## 211         211        0      3 24.00     0     0   7.0500
## 212         212        1      2 35.00     0     0  21.0000
## 213         213        0      3 22.00     0     0   7.2500
## 214         214        0      2 30.00     0     0  13.0000
## 215         215        0      3    NA     1     0   7.7500
## 216         216        1      1 31.00     1     0 113.2750
## 217         217        1      3 27.00     0     0   7.9250
## 218         218        0      2 42.00     1     0  27.0000
## 219         219        1      1 32.00     0     0  76.2917
## 220         220        0      2 30.00     0     0  10.5000
## 221         221        1      3 16.00     0     0   8.0500
## 222         222        0      2 27.00     0     0  13.0000
## 223         223        0      3 51.00     0     0   8.0500
## 224         224        0      3    NA     0     0   7.8958
## 225         225        1      1 38.00     1     0  90.0000
## 226         226        0      3 22.00     0     0   9.3500
## 227         227        1      2 19.00     0     0  10.5000
## 228         228        0      3 20.50     0     0   7.2500
## 229         229        0      2 18.00     0     0  13.0000
## 230         230        0      3    NA     3     1  25.4667
## 231         231        1      1 35.00     1     0  83.4750
## 232         232        0      3 29.00     0     0   7.7750
## 233         233        0      2 59.00     0     0  13.5000
## 234         234        1      3  5.00     4     2  31.3875
## 235         235        0      2 24.00     0     0  10.5000
## 236         236        0      3    NA     0     0   7.5500
## 237         237        0      2 44.00     1     0  26.0000
## 238         238        1      2  8.00     0     2  26.2500
## 239         239        0      2 19.00     0     0  10.5000
## 240         240        0      2 33.00     0     0  12.2750
## 241         241        0      3    NA     1     0  14.4542
## 242         242        1      3    NA     1     0  15.5000
## 243         243        0      2 29.00     0     0  10.5000
## 244         244        0      3 22.00     0     0   7.1250
## 245         245        0      3 30.00     0     0   7.2250
## 246         246        0      1 44.00     2     0  90.0000
## 247         247        0      3 25.00     0     0   7.7750
## 248         248        1      2 24.00     0     2  14.5000
## 249         249        1      1 37.00     1     1  52.5542
## 250         250        0      2 54.00     1     0  26.0000
## 251         251        0      3    NA     0     0   7.2500
## 252         252        0      3 29.00     1     1  10.4625
## 253         253        0      1 62.00     0     0  26.5500
## 254         254        0      3 30.00     1     0  16.1000
## 255         255        0      3 41.00     0     2  20.2125
## 256         256        1      3 29.00     0     2  15.2458
## 257         257        1      1    NA     0     0  79.2000
## 258         258        1      1 30.00     0     0  86.5000
## 259         259        1      1 35.00     0     0 512.3292
## 260         260        1      2 50.00     0     1  26.0000
## 261         261        0      3    NA     0     0   7.7500
## 262         262        1      3  3.00     4     2  31.3875
## 263         263        0      1 52.00     1     1  79.6500
## 264         264        0      1 40.00     0     0   0.0000
## 265         265        0      3    NA     0     0   7.7500
## 266         266        0      2 36.00     0     0  10.5000
## 267         267        0      3 16.00     4     1  39.6875
## 268         268        1      3 25.00     1     0   7.7750
## 269         269        1      1 58.00     0     1 153.4625
## 270         270        1      1 35.00     0     0 135.6333
## 271         271        0      1    NA     0     0  31.0000
## 272         272        1      3 25.00     0     0   0.0000
## 273         273        1      2 41.00     0     1  19.5000
## 274         274        0      1 37.00     0     1  29.7000
## 275         275        1      3    NA     0     0   7.7500
## 276         276        1      1 63.00     1     0  77.9583
## 277         277        0      3 45.00     0     0   7.7500
## 278         278        0      2    NA     0     0   0.0000
## 279         279        0      3  7.00     4     1  29.1250
## 280         280        1      3 35.00     1     1  20.2500
## 281         281        0      3 65.00     0     0   7.7500
## 282         282        0      3 28.00     0     0   7.8542
## 283         283        0      3 16.00     0     0   9.5000
## 284         284        1      3 19.00     0     0   8.0500
## 285         285        0      1    NA     0     0  26.0000
## 286         286        0      3 33.00     0     0   8.6625
## 287         287        1      3 30.00     0     0   9.5000
## 288         288        0      3 22.00     0     0   7.8958
## 289         289        1      2 42.00     0     0  13.0000
## 290         290        1      3 22.00     0     0   7.7500
## 291         291        1      1 26.00     0     0  78.8500
## 292         292        1      1 19.00     1     0  91.0792
## 293         293        0      2 36.00     0     0  12.8750
## 294         294        0      3 24.00     0     0   8.8500
## 295         295        0      3 24.00     0     0   7.8958
## 296         296        0      1    NA     0     0  27.7208
## 297         297        0      3 23.50     0     0   7.2292
## 298         298        0      1  2.00     1     2 151.5500
## 299         299        1      1    NA     0     0  30.5000
## 300         300        1      1 50.00     0     1 247.5208
## 301         301        1      3    NA     0     0   7.7500
## 302         302        1      3    NA     2     0  23.2500
## 303         303        0      3 19.00     0     0   0.0000
## 304         304        1      2    NA     0     0  12.3500
## 305         305        0      3    NA     0     0   8.0500
## 306         306        1      1  0.92     1     2 151.5500
## 307         307        1      1    NA     0     0 110.8833
## 308         308        1      1 17.00     1     0 108.9000
## 309         309        0      2 30.00     1     0  24.0000
## 310         310        1      1 30.00     0     0  56.9292
## 311         311        1      1 24.00     0     0  83.1583
## 312         312        1      1 18.00     2     2 262.3750
## 313         313        0      2 26.00     1     1  26.0000
## 314         314        0      3 28.00     0     0   7.8958
## 315         315        0      2 43.00     1     1  26.2500
## 316         316        1      3 26.00     0     0   7.8542
## 317         317        1      2 24.00     1     0  26.0000
## 318         318        0      2 54.00     0     0  14.0000
## 319         319        1      1 31.00     0     2 164.8667
## 320         320        1      1 40.00     1     1 134.5000
## 321         321        0      3 22.00     0     0   7.2500
## 322         322        0      3 27.00     0     0   7.8958
## 323         323        1      2 30.00     0     0  12.3500
## 324         324        1      2 22.00     1     1  29.0000
## 325         325        0      3    NA     8     2  69.5500
## 326         326        1      1 36.00     0     0 135.6333
## 327         327        0      3 61.00     0     0   6.2375
## 328         328        1      2 36.00     0     0  13.0000
## 329         329        1      3 31.00     1     1  20.5250
## 330         330        1      1 16.00     0     1  57.9792
## 331         331        1      3    NA     2     0  23.2500
## 332         332        0      1 45.50     0     0  28.5000
## 333         333        0      1 38.00     0     1 153.4625
## 334         334        0      3 16.00     2     0  18.0000
## 335         335        1      1    NA     1     0 133.6500
## 336         336        0      3    NA     0     0   7.8958
## 337         337        0      1 29.00     1     0  66.6000
## 338         338        1      1 41.00     0     0 134.5000
## 339         339        1      3 45.00     0     0   8.0500
## 340         340        0      1 45.00     0     0  35.5000
## 341         341        1      2  2.00     1     1  26.0000
## 342         342        1      1 24.00     3     2 263.0000
## 343         343        0      2 28.00     0     0  13.0000
## 344         344        0      2 25.00     0     0  13.0000
## 345         345        0      2 36.00     0     0  13.0000
## 346         346        1      2 24.00     0     0  13.0000
## 347         347        1      2 40.00     0     0  13.0000
## 348         348        1      3    NA     1     0  16.1000
## 349         349        1      3  3.00     1     1  15.9000
## 350         350        0      3 42.00     0     0   8.6625
## 351         351        0      3 23.00     0     0   9.2250
## 352         352        0      1    NA     0     0  35.0000
## 353         353        0      3 15.00     1     1   7.2292
## 354         354        0      3 25.00     1     0  17.8000
## 355         355        0      3    NA     0     0   7.2250
## 356         356        0      3 28.00     0     0   9.5000
## 357         357        1      1 22.00     0     1  55.0000
## 358         358        0      2 38.00     0     0  13.0000
## 359         359        1      3    NA     0     0   7.8792
## 360         360        1      3    NA     0     0   7.8792
## 361         361        0      3 40.00     1     4  27.9000
## 362         362        0      2 29.00     1     0  27.7208
## 363         363        0      3 45.00     0     1  14.4542
## 364         364        0      3 35.00     0     0   7.0500
## 365         365        0      3    NA     1     0  15.5000
## 366         366        0      3 30.00     0     0   7.2500
## 367         367        1      1 60.00     1     0  75.2500
## 368         368        1      3    NA     0     0   7.2292
## 369         369        1      3    NA     0     0   7.7500
## 370         370        1      1 24.00     0     0  69.3000
## 371         371        1      1 25.00     1     0  55.4417
## 372         372        0      3 18.00     1     0   6.4958
## 373         373        0      3 19.00     0     0   8.0500
## 374         374        0      1 22.00     0     0 135.6333
## 375         375        0      3  3.00     3     1  21.0750
## 376         376        1      1    NA     1     0  82.1708
## 377         377        1      3 22.00     0     0   7.2500
## 378         378        0      1 27.00     0     2 211.5000
## 379         379        0      3 20.00     0     0   4.0125
## 380         380        0      3 19.00     0     0   7.7750
## 381         381        1      1 42.00     0     0 227.5250
## 382         382        1      3  1.00     0     2  15.7417
## 383         383        0      3 32.00     0     0   7.9250
## 384         384        1      1 35.00     1     0  52.0000
## 385         385        0      3    NA     0     0   7.8958
## 386         386        0      2 18.00     0     0  73.5000
## 387         387        0      3  1.00     5     2  46.9000
## 388         388        1      2 36.00     0     0  13.0000
## 389         389        0      3    NA     0     0   7.7292
## 390         390        1      2 17.00     0     0  12.0000
## 391         391        1      1 36.00     1     2 120.0000
## 392         392        1      3 21.00     0     0   7.7958
## 393         393        0      3 28.00     2     0   7.9250
## 394         394        1      1 23.00     1     0 113.2750
## 395         395        1      3 24.00     0     2  16.7000
## 396         396        0      3 22.00     0     0   7.7958
## 397         397        0      3 31.00     0     0   7.8542
## 398         398        0      2 46.00     0     0  26.0000
## 399         399        0      2 23.00     0     0  10.5000
## 400         400        1      2 28.00     0     0  12.6500
## 401         401        1      3 39.00     0     0   7.9250
## 402         402        0      3 26.00     0     0   8.0500
## 403         403        0      3 21.00     1     0   9.8250
## 404         404        0      3 28.00     1     0  15.8500
## 405         405        0      3 20.00     0     0   8.6625
## 406         406        0      2 34.00     1     0  21.0000
## 407         407        0      3 51.00     0     0   7.7500
## 408         408        1      2  3.00     1     1  18.7500
## 409         409        0      3 21.00     0     0   7.7750
## 410         410        0      3    NA     3     1  25.4667
## 411         411        0      3    NA     0     0   7.8958
## 412         412        0      3    NA     0     0   6.8583
## 413         413        1      1 33.00     1     0  90.0000
## 414         414        0      2    NA     0     0   0.0000
## 415         415        1      3 44.00     0     0   7.9250
## 416         416        0      3    NA     0     0   8.0500
## 417         417        1      2 34.00     1     1  32.5000
## 418         418        1      2 18.00     0     2  13.0000
## 419         419        0      2 30.00     0     0  13.0000
## 420         420        0      3 10.00     0     2  24.1500
## 421         421        0      3    NA     0     0   7.8958
## 422         422        0      3 21.00     0     0   7.7333
## 423         423        0      3 29.00     0     0   7.8750
## 424         424        0      3 28.00     1     1  14.4000
## 425         425        0      3 18.00     1     1  20.2125
## 426         426        0      3    NA     0     0   7.2500
## 427         427        1      2 28.00     1     0  26.0000
## 428         428        1      2 19.00     0     0  26.0000
## 429         429        0      3    NA     0     0   7.7500
## 430         430        1      3 32.00     0     0   8.0500
## 431         431        1      1 28.00     0     0  26.5500
## 432         432        1      3    NA     1     0  16.1000
## 433         433        1      2 42.00     1     0  26.0000
## 434         434        0      3 17.00     0     0   7.1250
## 435         435        0      1 50.00     1     0  55.9000
## 436         436        1      1 14.00     1     2 120.0000
## 437         437        0      3 21.00     2     2  34.3750
## 438         438        1      2 24.00     2     3  18.7500
## 439         439        0      1 64.00     1     4 263.0000
## 440         440        0      2 31.00     0     0  10.5000
## 441         441        1      2 45.00     1     1  26.2500
## 442         442        0      3 20.00     0     0   9.5000
## 443         443        0      3 25.00     1     0   7.7750
## 444         444        1      2 28.00     0     0  13.0000
## 445         445        1      3    NA     0     0   8.1125
## 446         446        1      1  4.00     0     2  81.8583
## 447         447        1      2 13.00     0     1  19.5000
## 448         448        1      1 34.00     0     0  26.5500
## 449         449        1      3  5.00     2     1  19.2583
## 450         450        1      1 52.00     0     0  30.5000
## 451         451        0      2 36.00     1     2  27.7500
## 452         452        0      3    NA     1     0  19.9667
## 453         453        0      1 30.00     0     0  27.7500
## 454         454        1      1 49.00     1     0  89.1042
## 455         455        0      3    NA     0     0   8.0500
## 456         456        1      3 29.00     0     0   7.8958
## 457         457        0      1 65.00     0     0  26.5500
## 458         458        1      1    NA     1     0  51.8625
## 459         459        1      2 50.00     0     0  10.5000
## 460         460        0      3    NA     0     0   7.7500
## 461         461        1      1 48.00     0     0  26.5500
## 462         462        0      3 34.00     0     0   8.0500
## 463         463        0      1 47.00     0     0  38.5000
## 464         464        0      2 48.00     0     0  13.0000
## 465         465        0      3    NA     0     0   8.0500
## 466         466        0      3 38.00     0     0   7.0500
## 467         467        0      2    NA     0     0   0.0000
## 468         468        0      1 56.00     0     0  26.5500
## 469         469        0      3    NA     0     0   7.7250
## 470         470        1      3  0.75     2     1  19.2583
## 471         471        0      3    NA     0     0   7.2500
## 472         472        0      3 38.00     0     0   8.6625
## 473         473        1      2 33.00     1     2  27.7500
## 474         474        1      2 23.00     0     0  13.7917
## 475         475        0      3 22.00     0     0   9.8375
## 476         476        0      1    NA     0     0  52.0000
## 477         477        0      2 34.00     1     0  21.0000
## 478         478        0      3 29.00     1     0   7.0458
## 479         479        0      3 22.00     0     0   7.5208
## 480         480        1      3  2.00     0     1  12.2875
## 481         481        0      3  9.00     5     2  46.9000
## 482         482        0      2    NA     0     0   0.0000
## 483         483        0      3 50.00     0     0   8.0500
## 484         484        1      3 63.00     0     0   9.5875
## 485         485        1      1 25.00     1     0  91.0792
## 486         486        0      3    NA     3     1  25.4667
## 487         487        1      1 35.00     1     0  90.0000
## 488         488        0      1 58.00     0     0  29.7000
## 489         489        0      3 30.00     0     0   8.0500
## 490         490        1      3  9.00     1     1  15.9000
## 491         491        0      3    NA     1     0  19.9667
## 492         492        0      3 21.00     0     0   7.2500
## 493         493        0      1 55.00     0     0  30.5000
## 494         494        0      1 71.00     0     0  49.5042
## 495         495        0      3 21.00     0     0   8.0500
## 496         496        0      3    NA     0     0  14.4583
## 497         497        1      1 54.00     1     0  78.2667
## 498         498        0      3    NA     0     0  15.1000
## 499         499        0      1 25.00     1     2 151.5500
## 500         500        0      3 24.00     0     0   7.7958
## 501         501        0      3 17.00     0     0   8.6625
## 502         502        0      3 21.00     0     0   7.7500
## 503         503        0      3    NA     0     0   7.6292
## 504         504        0      3 37.00     0     0   9.5875
## 505         505        1      1 16.00     0     0  86.5000
## 506         506        0      1 18.00     1     0 108.9000
## 507         507        1      2 33.00     0     2  26.0000
## 508         508        1      1    NA     0     0  26.5500
## 509         509        0      3 28.00     0     0  22.5250
## 510         510        1      3 26.00     0     0  56.4958
## 511         511        1      3 29.00     0     0   7.7500
## 512         512        0      3    NA     0     0   8.0500
## 513         513        1      1 36.00     0     0  26.2875
## 514         514        1      1 54.00     1     0  59.4000
## 515         515        0      3 24.00     0     0   7.4958
## 516         516        0      1 47.00     0     0  34.0208
## 517         517        1      2 34.00     0     0  10.5000
## 518         518        0      3    NA     0     0  24.1500
## 519         519        1      2 36.00     1     0  26.0000
## 520         520        0      3 32.00     0     0   7.8958
## 521         521        1      1 30.00     0     0  93.5000
## 522         522        0      3 22.00     0     0   7.8958
## 523         523        0      3    NA     0     0   7.2250
## 524         524        1      1 44.00     0     1  57.9792
## 525         525        0      3    NA     0     0   7.2292
## 526         526        0      3 40.50     0     0   7.7500
## 527         527        1      2 50.00     0     0  10.5000
## 528         528        0      1    NA     0     0 221.7792
## 529         529        0      3 39.00     0     0   7.9250
## 530         530        0      2 23.00     2     1  11.5000
## 531         531        1      2  2.00     1     1  26.0000
## 532         532        0      3    NA     0     0   7.2292
## 533         533        0      3 17.00     1     1   7.2292
## 534         534        1      3    NA     0     2  22.3583
## 535         535        0      3 30.00     0     0   8.6625
## 536         536        1      2  7.00     0     2  26.2500
## 537         537        0      1 45.00     0     0  26.5500
## 538         538        1      1 30.00     0     0 106.4250
## 539         539        0      3    NA     0     0  14.5000
## 540         540        1      1 22.00     0     2  49.5000
## 541         541        1      1 36.00     0     2  71.0000
## 542         542        0      3  9.00     4     2  31.2750
## 543         543        0      3 11.00     4     2  31.2750
## 544         544        1      2 32.00     1     0  26.0000
## 545         545        0      1 50.00     1     0 106.4250
## 546         546        0      1 64.00     0     0  26.0000
## 547         547        1      2 19.00     1     0  26.0000
## 548         548        1      2    NA     0     0  13.8625
## 549         549        0      3 33.00     1     1  20.5250
## 550         550        1      2  8.00     1     1  36.7500
## 551         551        1      1 17.00     0     2 110.8833
## 552         552        0      2 27.00     0     0  26.0000
## 553         553        0      3    NA     0     0   7.8292
## 554         554        1      3 22.00     0     0   7.2250
## 555         555        1      3 22.00     0     0   7.7750
## 556         556        0      1 62.00     0     0  26.5500
## 557         557        1      1 48.00     1     0  39.6000
## 558         558        0      1    NA     0     0 227.5250
## 559         559        1      1 39.00     1     1  79.6500
## 560         560        1      3 36.00     1     0  17.4000
## 561         561        0      3    NA     0     0   7.7500
## 562         562        0      3 40.00     0     0   7.8958
## 563         563        0      2 28.00     0     0  13.5000
## 564         564        0      3    NA     0     0   8.0500
## 565         565        0      3    NA     0     0   8.0500
## 566         566        0      3 24.00     2     0  24.1500
## 567         567        0      3 19.00     0     0   7.8958
## 568         568        0      3 29.00     0     4  21.0750
## 569         569        0      3    NA     0     0   7.2292
## 570         570        1      3 32.00     0     0   7.8542
## 571         571        1      2 62.00     0     0  10.5000
## 572         572        1      1 53.00     2     0  51.4792
## 573         573        1      1 36.00     0     0  26.3875
## 574         574        1      3    NA     0     0   7.7500
## 575         575        0      3 16.00     0     0   8.0500
## 576         576        0      3 19.00     0     0  14.5000
## 577         577        1      2 34.00     0     0  13.0000
## 578         578        1      1 39.00     1     0  55.9000
## 579         579        0      3    NA     1     0  14.4583
## 580         580        1      3 32.00     0     0   7.9250
## 581         581        1      2 25.00     1     1  30.0000
## 582         582        1      1 39.00     1     1 110.8833
## 583         583        0      2 54.00     0     0  26.0000
## 584         584        0      1 36.00     0     0  40.1250
## 585         585        0      3    NA     0     0   8.7125
## 586         586        1      1 18.00     0     2  79.6500
## 587         587        0      2 47.00     0     0  15.0000
## 588         588        1      1 60.00     1     1  79.2000
## 589         589        0      3 22.00     0     0   8.0500
## 590         590        0      3    NA     0     0   8.0500
## 591         591        0      3 35.00     0     0   7.1250
## 592         592        1      1 52.00     1     0  78.2667
## 593         593        0      3 47.00     0     0   7.2500
## 594         594        0      3    NA     0     2   7.7500
## 595         595        0      2 37.00     1     0  26.0000
## 596         596        0      3 36.00     1     1  24.1500
## 597         597        1      2    NA     0     0  33.0000
## 598         598        0      3 49.00     0     0   0.0000
## 599         599        0      3    NA     0     0   7.2250
## 600         600        1      1 49.00     1     0  56.9292
## 601         601        1      2 24.00     2     1  27.0000
## 602         602        0      3    NA     0     0   7.8958
## 603         603        0      1    NA     0     0  42.4000
## 604         604        0      3 44.00     0     0   8.0500
## 605         605        1      1 35.00     0     0  26.5500
## 606         606        0      3 36.00     1     0  15.5500
## 607         607        0      3 30.00     0     0   7.8958
## 608         608        1      1 27.00     0     0  30.5000
## 609         609        1      2 22.00     1     2  41.5792
## 610         610        1      1 40.00     0     0 153.4625
## 611         611        0      3 39.00     1     5  31.2750
## 612         612        0      3    NA     0     0   7.0500
## 613         613        1      3    NA     1     0  15.5000
## 614         614        0      3    NA     0     0   7.7500
## 615         615        0      3 35.00     0     0   8.0500
## 616         616        1      2 24.00     1     2  65.0000
## 617         617        0      3 34.00     1     1  14.4000
## 618         618        0      3 26.00     1     0  16.1000
## 619         619        1      2  4.00     2     1  39.0000
## 620         620        0      2 26.00     0     0  10.5000
## 621         621        0      3 27.00     1     0  14.4542
## 622         622        1      1 42.00     1     0  52.5542
## 623         623        1      3 20.00     1     1  15.7417
## 624         624        0      3 21.00     0     0   7.8542
## 625         625        0      3 21.00     0     0  16.1000
## 626         626        0      1 61.00     0     0  32.3208
## 627         627        0      2 57.00     0     0  12.3500
## 628         628        1      1 21.00     0     0  77.9583
## 629         629        0      3 26.00     0     0   7.8958
## 630         630        0      3    NA     0     0   7.7333
## 631         631        1      1 80.00     0     0  30.0000
## 632         632        0      3 51.00     0     0   7.0542
## 633         633        1      1 32.00     0     0  30.5000
## 634         634        0      1    NA     0     0   0.0000
## 635         635        0      3  9.00     3     2  27.9000
## 636         636        1      2 28.00     0     0  13.0000
## 637         637        0      3 32.00     0     0   7.9250
## 638         638        0      2 31.00     1     1  26.2500
## 639         639        0      3 41.00     0     5  39.6875
## 640         640        0      3    NA     1     0  16.1000
## 641         641        0      3 20.00     0     0   7.8542
## 642         642        1      1 24.00     0     0  69.3000
## 643         643        0      3  2.00     3     2  27.9000
## 644         644        1      3    NA     0     0  56.4958
## 645         645        1      3  0.75     2     1  19.2583
## 646         646        1      1 48.00     1     0  76.7292
## 647         647        0      3 19.00     0     0   7.8958
## 648         648        1      1 56.00     0     0  35.5000
## 649         649        0      3    NA     0     0   7.5500
## 650         650        1      3 23.00     0     0   7.5500
## 651         651        0      3    NA     0     0   7.8958
## 652         652        1      2 18.00     0     1  23.0000
## 653         653        0      3 21.00     0     0   8.4333
## 654         654        1      3    NA     0     0   7.8292
## 655         655        0      3 18.00     0     0   6.7500
## 656         656        0      2 24.00     2     0  73.5000
## 657         657        0      3    NA     0     0   7.8958
## 658         658        0      3 32.00     1     1  15.5000
## 659         659        0      2 23.00     0     0  13.0000
## 660         660        0      1 58.00     0     2 113.2750
## 661         661        1      1 50.00     2     0 133.6500
## 662         662        0      3 40.00     0     0   7.2250
## 663         663        0      1 47.00     0     0  25.5875
## 664         664        0      3 36.00     0     0   7.4958
## 665         665        1      3 20.00     1     0   7.9250
## 666         666        0      2 32.00     2     0  73.5000
## 667         667        0      2 25.00     0     0  13.0000
## 668         668        0      3    NA     0     0   7.7750
## 669         669        0      3 43.00     0     0   8.0500
## 670         670        1      1    NA     1     0  52.0000
## 671         671        1      2 40.00     1     1  39.0000
## 672         672        0      1 31.00     1     0  52.0000
## 673         673        0      2 70.00     0     0  10.5000
## 674         674        1      2 31.00     0     0  13.0000
## 675         675        0      2    NA     0     0   0.0000
## 676         676        0      3 18.00     0     0   7.7750
## 677         677        0      3 24.50     0     0   8.0500
## 678         678        1      3 18.00     0     0   9.8417
## 679         679        0      3 43.00     1     6  46.9000
## 680         680        1      1 36.00     0     1 512.3292
## 681         681        0      3    NA     0     0   8.1375
## 682         682        1      1 27.00     0     0  76.7292
## 683         683        0      3 20.00     0     0   9.2250
## 684         684        0      3 14.00     5     2  46.9000
## 685         685        0      2 60.00     1     1  39.0000
## 686         686        0      2 25.00     1     2  41.5792
## 687         687        0      3 14.00     4     1  39.6875
## 688         688        0      3 19.00     0     0  10.1708
## 689         689        0      3 18.00     0     0   7.7958
## 690         690        1      1 15.00     0     1 211.3375
## 691         691        1      1 31.00     1     0  57.0000
## 692         692        1      3  4.00     0     1  13.4167
## 693         693        1      3    NA     0     0  56.4958
## 694         694        0      3 25.00     0     0   7.2250
## 695         695        0      1 60.00     0     0  26.5500
## 696         696        0      2 52.00     0     0  13.5000
## 697         697        0      3 44.00     0     0   8.0500
## 698         698        1      3    NA     0     0   7.7333
## 699         699        0      1 49.00     1     1 110.8833
## 700         700        0      3 42.00     0     0   7.6500
## 701         701        1      1 18.00     1     0 227.5250
## 702         702        1      1 35.00     0     0  26.2875
## 703         703        0      3 18.00     0     1  14.4542
## 704         704        0      3 25.00     0     0   7.7417
## 705         705        0      3 26.00     1     0   7.8542
## 706         706        0      2 39.00     0     0  26.0000
## 707         707        1      2 45.00     0     0  13.5000
## 708         708        1      1 42.00     0     0  26.2875
## 709         709        1      1 22.00     0     0 151.5500
## 710         710        1      3    NA     1     1  15.2458
## 711         711        1      1 24.00     0     0  49.5042
## 712         712        0      1    NA     0     0  26.5500
## 713         713        1      1 48.00     1     0  52.0000
## 714         714        0      3 29.00     0     0   9.4833
## 715         715        0      2 52.00     0     0  13.0000
## 716         716        0      3 19.00     0     0   7.6500
## 717         717        1      1 38.00     0     0 227.5250
## 718         718        1      2 27.00     0     0  10.5000
## 719         719        0      3    NA     0     0  15.5000
## 720         720        0      3 33.00     0     0   7.7750
## 721         721        1      2  6.00     0     1  33.0000
## 722         722        0      3 17.00     1     0   7.0542
## 723         723        0      2 34.00     0     0  13.0000
## 724         724        0      2 50.00     0     0  13.0000
## 725         725        1      1 27.00     1     0  53.1000
## 726         726        0      3 20.00     0     0   8.6625
## 727         727        1      2 30.00     3     0  21.0000
## 728         728        1      3    NA     0     0   7.7375
## 729         729        0      2 25.00     1     0  26.0000
## 730         730        0      3 25.00     1     0   7.9250
## 731         731        1      1 29.00     0     0 211.3375
## 732         732        0      3 11.00     0     0  18.7875
## 733         733        0      2    NA     0     0   0.0000
## 734         734        0      2 23.00     0     0  13.0000
## 735         735        0      2 23.00     0     0  13.0000
## 736         736        0      3 28.50     0     0  16.1000
## 737         737        0      3 48.00     1     3  34.3750
## 738         738        1      1 35.00     0     0 512.3292
## 739         739        0      3    NA     0     0   7.8958
## 740         740        0      3    NA     0     0   7.8958
## 741         741        1      1    NA     0     0  30.0000
## 742         742        0      1 36.00     1     0  78.8500
## 743         743        1      1 21.00     2     2 262.3750
## 744         744        0      3 24.00     1     0  16.1000
## 745         745        1      3 31.00     0     0   7.9250
## 746         746        0      1 70.00     1     1  71.0000
## 747         747        0      3 16.00     1     1  20.2500
## 748         748        1      2 30.00     0     0  13.0000
## 749         749        0      1 19.00     1     0  53.1000
## 750         750        0      3 31.00     0     0   7.7500
## 751         751        1      2  4.00     1     1  23.0000
## 752         752        1      3  6.00     0     1  12.4750
## 753         753        0      3 33.00     0     0   9.5000
## 754         754        0      3 23.00     0     0   7.8958
## 755         755        1      2 48.00     1     2  65.0000
## 756         756        1      2  0.67     1     1  14.5000
## 757         757        0      3 28.00     0     0   7.7958
## 758         758        0      2 18.00     0     0  11.5000
## 759         759        0      3 34.00     0     0   8.0500
## 760         760        1      1 33.00     0     0  86.5000
## 761         761        0      3    NA     0     0  14.5000
## 762         762        0      3 41.00     0     0   7.1250
## 763         763        1      3 20.00     0     0   7.2292
## 764         764        1      1 36.00     1     2 120.0000
## 765         765        0      3 16.00     0     0   7.7750
## 766         766        1      1 51.00     1     0  77.9583
## 767         767        0      1    NA     0     0  39.6000
## 768         768        0      3 30.50     0     0   7.7500
## 769         769        0      3    NA     1     0  24.1500
## 770         770        0      3 32.00     0     0   8.3625
## 771         771        0      3 24.00     0     0   9.5000
## 772         772        0      3 48.00     0     0   7.8542
## 773         773        0      2 57.00     0     0  10.5000
## 774         774        0      3    NA     0     0   7.2250
## 775         775        1      2 54.00     1     3  23.0000
## 776         776        0      3 18.00     0     0   7.7500
## 777         777        0      3    NA     0     0   7.7500
## 778         778        1      3  5.00     0     0  12.4750
## 779         779        0      3    NA     0     0   7.7375
## 780         780        1      1 43.00     0     1 211.3375
## 781         781        1      3 13.00     0     0   7.2292
## 782         782        1      1 17.00     1     0  57.0000
## 783         783        0      1 29.00     0     0  30.0000
## 784         784        0      3    NA     1     2  23.4500
## 785         785        0      3 25.00     0     0   7.0500
## 786         786        0      3 25.00     0     0   7.2500
## 787         787        1      3 18.00     0     0   7.4958
## 788         788        0      3  8.00     4     1  29.1250
## 789         789        1      3  1.00     1     2  20.5750
## 790         790        0      1 46.00     0     0  79.2000
## 791         791        0      3    NA     0     0   7.7500
## 792         792        0      2 16.00     0     0  26.0000
## 793         793        0      3    NA     8     2  69.5500
## 794         794        0      1    NA     0     0  30.6958
## 795         795        0      3 25.00     0     0   7.8958
## 796         796        0      2 39.00     0     0  13.0000
## 797         797        1      1 49.00     0     0  25.9292
## 798         798        1      3 31.00     0     0   8.6833
## 799         799        0      3 30.00     0     0   7.2292
## 800         800        0      3 30.00     1     1  24.1500
## 801         801        0      2 34.00     0     0  13.0000
## 802         802        1      2 31.00     1     1  26.2500
## 803         803        1      1 11.00     1     2 120.0000
## 804         804        1      3  0.42     0     1   8.5167
## 805         805        1      3 27.00     0     0   6.9750
## 806         806        0      3 31.00     0     0   7.7750
## 807         807        0      1 39.00     0     0   0.0000
## 808         808        0      3 18.00     0     0   7.7750
## 809         809        0      2 39.00     0     0  13.0000
## 810         810        1      1 33.00     1     0  53.1000
## 811         811        0      3 26.00     0     0   7.8875
## 812         812        0      3 39.00     0     0  24.1500
## 813         813        0      2 35.00     0     0  10.5000
## 814         814        0      3  6.00     4     2  31.2750
## 815         815        0      3 30.50     0     0   8.0500
## 816         816        0      1    NA     0     0   0.0000
## 817         817        0      3 23.00     0     0   7.9250
## 818         818        0      2 31.00     1     1  37.0042
## 819         819        0      3 43.00     0     0   6.4500
## 820         820        0      3 10.00     3     2  27.9000
## 821         821        1      1 52.00     1     1  93.5000
## 822         822        1      3 27.00     0     0   8.6625
## 823         823        0      1 38.00     0     0   0.0000
## 824         824        1      3 27.00     0     1  12.4750
## 825         825        0      3  2.00     4     1  39.6875
## 826         826        0      3    NA     0     0   6.9500
## 827         827        0      3    NA     0     0  56.4958
## 828         828        1      2  1.00     0     2  37.0042
## 829         829        1      3    NA     0     0   7.7500
## 830         830        1      1 62.00     0     0  80.0000
## 831         831        1      3 15.00     1     0  14.4542
## 832         832        1      2  0.83     1     1  18.7500
## 833         833        0      3    NA     0     0   7.2292
## 834         834        0      3 23.00     0     0   7.8542
## 835         835        0      3 18.00     0     0   8.3000
## 836         836        1      1 39.00     1     1  83.1583
## 837         837        0      3 21.00     0     0   8.6625
## 838         838        0      3    NA     0     0   8.0500
## 839         839        1      3 32.00     0     0  56.4958
## 840         840        1      1    NA     0     0  29.7000
## 841         841        0      3 20.00     0     0   7.9250
## 842         842        0      2 16.00     0     0  10.5000
## 843         843        1      1 30.00     0     0  31.0000
## 844         844        0      3 34.50     0     0   6.4375
## 845         845        0      3 17.00     0     0   8.6625
## 846         846        0      3 42.00     0     0   7.5500
## 847         847        0      3    NA     8     2  69.5500
## 848         848        0      3 35.00     0     0   7.8958
## 849         849        0      2 28.00     0     1  33.0000
## 850         850        1      1    NA     1     0  89.1042
## 851         851        0      3  4.00     4     2  31.2750
## 852         852        0      3 74.00     0     0   7.7750
## 853         853        0      3  9.00     1     1  15.2458
## 854         854        1      1 16.00     0     1  39.4000
## 855         855        0      2 44.00     1     0  26.0000
## 856         856        1      3 18.00     0     1   9.3500
## 857         857        1      1 45.00     1     1 164.8667
## 858         858        1      1 51.00     0     0  26.5500
## 859         859        1      3 24.00     0     3  19.2583
## 860         860        0      3    NA     0     0   7.2292
## 861         861        0      3 41.00     2     0  14.1083
## 862         862        0      2 21.00     1     0  11.5000
## 863         863        1      1 48.00     0     0  25.9292
## 864         864        0      3    NA     8     2  69.5500
## 865         865        0      2 24.00     0     0  13.0000
## 866         866        1      2 42.00     0     0  13.0000
## 867         867        1      2 27.00     1     0  13.8583
## 868         868        0      1 31.00     0     0  50.4958
## 869         869        0      3    NA     0     0   9.5000
## 870         870        1      3  4.00     1     1  11.1333
## 871         871        0      3 26.00     0     0   7.8958
## 872         872        1      1 47.00     1     1  52.5542
## 873         873        0      1 33.00     0     0   5.0000
## 874         874        0      3 47.00     0     0   9.0000
## 875         875        1      2 28.00     1     0  24.0000
## 876         876        1      3 15.00     0     0   7.2250
## 877         877        0      3 20.00     0     0   9.8458
## 878         878        0      3 19.00     0     0   7.8958
## 879         879        0      3    NA     0     0   7.8958
## 880         880        1      1 56.00     0     1  83.1583
## 881         881        1      2 25.00     0     1  26.0000
## 882         882        0      3 33.00     0     0   7.8958
## 883         883        0      3 22.00     0     0  10.5167
## 884         884        0      2 28.00     0     0  10.5000
## 885         885        0      3 25.00     0     0   7.0500
## 886         886        0      3 39.00     0     5  29.1250
## 887         887        0      2 27.00     0     0  13.0000
## 888         888        1      1 19.00     0     0  30.0000
## 889         889        0      3    NA     1     2  23.4500
## 890         890        1      1 26.00     0     0  30.0000
## 891         891        0      3 32.00     0     0   7.7500
```



---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

# Valores perdidos con `is.na()`


```r
any(is.na(train_titanic))
```

```
## [1] TRUE
```

* Borramos los datos perdidos con `na.omit()`


```r
train_titanic_clean &lt;-na.omit(train_titanic)
str(train_titanic_clean)
```

```
## 'data.frame':	714 obs. of  7 variables:
##  $ passengerid: int  1 2 3 4 5 7 8 9 10 11 ...
##  $ survived   : int  0 1 1 1 0 0 0 1 1 1 ...
##  $ pclass     : int  3 1 3 1 3 1 3 3 2 3 ...
##  $ age        : num  22 38 26 35 35 54 2 27 14 4 ...
##  $ sibsp      : int  1 1 0 1 0 0 3 0 1 1 ...
##  $ parch      : int  0 0 0 0 0 0 1 2 0 1 ...
##  $ fare       : num  7.25 71.28 7.92 53.1 8.05 ...
##  - attr(*, "na.action")= 'omit' Named int  6 18 20 27 29 30 32 33 37 43 ...
##   ..- attr(*, "names")= chr  "6" "18" "20" "27" ...
```

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

## Verificamos que no estÃ©n los valores perdidos


```r
any(is.na(train_titanic_clean))
```

```
## [1] FALSE
```
### Pasamos a tener 714 casos y 7 variables



```
## 'data.frame':	714 obs. of  7 variables:
##  $ passengerid: int  1 2 3 4 5 7 8 9 10 11 ...
##  $ survived   : int  0 1 1 1 0 0 0 1 1 1 ...
##  $ pclass     : int  3 1 3 1 3 1 3 3 2 3 ...
##  $ age        : num  22 38 26 35 35 54 2 27 14 4 ...
##  $ sibsp      : int  1 1 0 1 0 0 3 0 1 1 ...
##  $ parch      : int  0 0 0 0 0 0 1 2 0 1 ...
##  $ fare       : num  7.25 71.28 7.92 53.1 8.05 ...
##  - attr(*, "na.action")= 'omit' Named int  6 18 20 27 29 30 32 33 37 43 ...
##   ..- attr(*, "names")= chr  "6" "18" "20" "27" ...
```
---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

# Vamos a ver cuÃ¡ntos casos hay por grupos: `Survived`


```r
train_titanic_clean %&gt;%
  group_by(survived) %&gt;%
  count()
```

```
## # A tibble: 2 x 2
## # Groups:   survived [2]
##   survived     n
##      &lt;int&gt; &lt;int&gt;
## 1        0   424
## 2        1   290
```

---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/rsample.png" width="10%" align="right" /&gt;

# Balancear el dataset 

### Como el dataset estÃ¡ desbalanceado, vamos a balancearlos de la siguiente forma


```r
library(recipes)
titanic_balanceado&lt;- 
  recipe(survived ~ ., data = train_titanic_clean) %&gt;%
  step_downsample(survived) %&gt;%
titanic_balanceado
```


---
# Vamos a convertir en factor la variable respuesta


```r
library(dplyr)
train_titanic_clean2&lt;-train_titanic_clean %&gt;%
  mutate(surv = case_when(
    survived=="0" ~ "died",
    survived=="1" ~ "lived"
  )) 
train_titanic_clean2
```

```
##     passengerid survived pclass   age sibsp parch     fare  surv
## 1             1        0      3 22.00     1     0   7.2500  died
## 2             2        1      1 38.00     1     0  71.2833 lived
## 3             3        1      3 26.00     0     0   7.9250 lived
## 4             4        1      1 35.00     1     0  53.1000 lived
## 5             5        0      3 35.00     0     0   8.0500  died
## 6             7        0      1 54.00     0     0  51.8625  died
## 7             8        0      3  2.00     3     1  21.0750  died
## 8             9        1      3 27.00     0     2  11.1333 lived
## 9            10        1      2 14.00     1     0  30.0708 lived
## 10           11        1      3  4.00     1     1  16.7000 lived
## 11           12        1      1 58.00     0     0  26.5500 lived
## 12           13        0      3 20.00     0     0   8.0500  died
## 13           14        0      3 39.00     1     5  31.2750  died
## 14           15        0      3 14.00     0     0   7.8542  died
## 15           16        1      2 55.00     0     0  16.0000 lived
## 16           17        0      3  2.00     4     1  29.1250  died
## 17           19        0      3 31.00     1     0  18.0000  died
## 18           21        0      2 35.00     0     0  26.0000  died
## 19           22        1      2 34.00     0     0  13.0000 lived
## 20           23        1      3 15.00     0     0   8.0292 lived
## 21           24        1      1 28.00     0     0  35.5000 lived
## 22           25        0      3  8.00     3     1  21.0750  died
## 23           26        1      3 38.00     1     5  31.3875 lived
## 24           28        0      1 19.00     3     2 263.0000  died
## 25           31        0      1 40.00     0     0  27.7208  died
## 26           34        0      2 66.00     0     0  10.5000  died
## 27           35        0      1 28.00     1     0  82.1708  died
## 28           36        0      1 42.00     1     0  52.0000  died
## 29           38        0      3 21.00     0     0   8.0500  died
## 30           39        0      3 18.00     2     0  18.0000  died
## 31           40        1      3 14.00     1     0  11.2417 lived
## 32           41        0      3 40.00     1     0   9.4750  died
## 33           42        0      2 27.00     1     0  21.0000  died
## 34           44        1      2  3.00     1     2  41.5792 lived
## 35           45        1      3 19.00     0     0   7.8792 lived
## 36           50        0      3 18.00     1     0  17.8000  died
## 37           51        0      3  7.00     4     1  39.6875  died
## 38           52        0      3 21.00     0     0   7.8000  died
## 39           53        1      1 49.00     1     0  76.7292 lived
## 40           54        1      2 29.00     1     0  26.0000 lived
## 41           55        0      1 65.00     0     1  61.9792  died
## 42           57        1      2 21.00     0     0  10.5000 lived
## 43           58        0      3 28.50     0     0   7.2292  died
## 44           59        1      2  5.00     1     2  27.7500 lived
## 45           60        0      3 11.00     5     2  46.9000  died
## 46           61        0      3 22.00     0     0   7.2292  died
## 47           62        1      1 38.00     0     0  80.0000 lived
## 48           63        0      1 45.00     1     0  83.4750  died
## 49           64        0      3  4.00     3     2  27.9000  died
## 50           67        1      2 29.00     0     0  10.5000 lived
## 51           68        0      3 19.00     0     0   8.1583  died
## 52           69        1      3 17.00     4     2   7.9250 lived
## 53           70        0      3 26.00     2     0   8.6625  died
## 54           71        0      2 32.00     0     0  10.5000  died
## 55           72        0      3 16.00     5     2  46.9000  died
## 56           73        0      2 21.00     0     0  73.5000  died
## 57           74        0      3 26.00     1     0  14.4542  died
## 58           75        1      3 32.00     0     0  56.4958 lived
## 59           76        0      3 25.00     0     0   7.6500  died
## 60           79        1      2  0.83     0     2  29.0000 lived
## 61           80        1      3 30.00     0     0  12.4750 lived
## 62           81        0      3 22.00     0     0   9.0000  died
## 63           82        1      3 29.00     0     0   9.5000 lived
## 64           84        0      1 28.00     0     0  47.1000  died
## 65           85        1      2 17.00     0     0  10.5000 lived
## 66           86        1      3 33.00     3     0  15.8500 lived
## 67           87        0      3 16.00     1     3  34.3750  died
## 68           89        1      1 23.00     3     2 263.0000 lived
## 69           90        0      3 24.00     0     0   8.0500  died
## 70           91        0      3 29.00     0     0   8.0500  died
## 71           92        0      3 20.00     0     0   7.8542  died
## 72           93        0      1 46.00     1     0  61.1750  died
## 73           94        0      3 26.00     1     2  20.5750  died
## 74           95        0      3 59.00     0     0   7.2500  died
## 75           97        0      1 71.00     0     0  34.6542  died
## 76           98        1      1 23.00     0     1  63.3583 lived
## 77           99        1      2 34.00     0     1  23.0000 lived
## 78          100        0      2 34.00     1     0  26.0000  died
## 79          101        0      3 28.00     0     0   7.8958  died
## 80          103        0      1 21.00     0     1  77.2875  died
## 81          104        0      3 33.00     0     0   8.6542  died
## 82          105        0      3 37.00     2     0   7.9250  died
## 83          106        0      3 28.00     0     0   7.8958  died
## 84          107        1      3 21.00     0     0   7.6500 lived
## 85          109        0      3 38.00     0     0   7.8958  died
## 86          111        0      1 47.00     0     0  52.0000  died
## 87          112        0      3 14.50     1     0  14.4542  died
## 88          113        0      3 22.00     0     0   8.0500  died
## 89          114        0      3 20.00     1     0   9.8250  died
## 90          115        0      3 17.00     0     0  14.4583  died
## 91          116        0      3 21.00     0     0   7.9250  died
## 92          117        0      3 70.50     0     0   7.7500  died
## 93          118        0      2 29.00     1     0  21.0000  died
## 94          119        0      1 24.00     0     1 247.5208  died
## 95          120        0      3  2.00     4     2  31.2750  died
## 96          121        0      2 21.00     2     0  73.5000  died
## 97          123        0      2 32.50     1     0  30.0708  died
## 98          124        1      2 32.50     0     0  13.0000 lived
## 99          125        0      1 54.00     0     1  77.2875  died
## 100         126        1      3 12.00     1     0  11.2417 lived
## 101         128        1      3 24.00     0     0   7.1417 lived
## 102         130        0      3 45.00     0     0   6.9750  died
## 103         131        0      3 33.00     0     0   7.8958  died
## 104         132        0      3 20.00     0     0   7.0500  died
## 105         133        0      3 47.00     1     0  14.5000  died
## 106         134        1      2 29.00     1     0  26.0000 lived
## 107         135        0      2 25.00     0     0  13.0000  died
## 108         136        0      2 23.00     0     0  15.0458  died
## 109         137        1      1 19.00     0     2  26.2833 lived
## 110         138        0      1 37.00     1     0  53.1000  died
## 111         139        0      3 16.00     0     0   9.2167  died
## 112         140        0      1 24.00     0     0  79.2000  died
## 113         142        1      3 22.00     0     0   7.7500 lived
## 114         143        1      3 24.00     1     0  15.8500 lived
## 115         144        0      3 19.00     0     0   6.7500  died
## 116         145        0      2 18.00     0     0  11.5000  died
## 117         146        0      2 19.00     1     1  36.7500  died
## 118         147        1      3 27.00     0     0   7.7958 lived
## 119         148        0      3  9.00     2     2  34.3750  died
## 120         149        0      2 36.50     0     2  26.0000  died
## 121         150        0      2 42.00     0     0  13.0000  died
## 122         151        0      2 51.00     0     0  12.5250  died
## 123         152        1      1 22.00     1     0  66.6000 lived
## 124         153        0      3 55.50     0     0   8.0500  died
## 125         154        0      3 40.50     0     2  14.5000  died
## 126         156        0      1 51.00     0     1  61.3792  died
## 127         157        1      3 16.00     0     0   7.7333 lived
## 128         158        0      3 30.00     0     0   8.0500  died
## 129         161        0      3 44.00     0     1  16.1000  died
## 130         162        1      2 40.00     0     0  15.7500 lived
## 131         163        0      3 26.00     0     0   7.7750  died
## 132         164        0      3 17.00     0     0   8.6625  died
## 133         165        0      3  1.00     4     1  39.6875  died
## 134         166        1      3  9.00     0     2  20.5250 lived
## 135         168        0      3 45.00     1     4  27.9000  died
## 136         170        0      3 28.00     0     0  56.4958  died
## 137         171        0      1 61.00     0     0  33.5000  died
## 138         172        0      3  4.00     4     1  29.1250  died
## 139         173        1      3  1.00     1     1  11.1333 lived
## 140         174        0      3 21.00     0     0   7.9250  died
## 141         175        0      1 56.00     0     0  30.6958  died
## 142         176        0      3 18.00     1     1   7.8542  died
## 143         178        0      1 50.00     0     0  28.7125  died
## 144         179        0      2 30.00     0     0  13.0000  died
## 145         180        0      3 36.00     0     0   0.0000  died
## 146         183        0      3  9.00     4     2  31.3875  died
## 147         184        1      2  1.00     2     1  39.0000 lived
## 148         185        1      3  4.00     0     2  22.0250 lived
## 149         188        1      1 45.00     0     0  26.5500 lived
## 150         189        0      3 40.00     1     1  15.5000  died
## 151         190        0      3 36.00     0     0   7.8958  died
## 152         191        1      2 32.00     0     0  13.0000 lived
## 153         192        0      2 19.00     0     0  13.0000  died
## 154         193        1      3 19.00     1     0   7.8542 lived
## 155         194        1      2  3.00     1     1  26.0000 lived
## 156         195        1      1 44.00     0     0  27.7208 lived
## 157         196        1      1 58.00     0     0 146.5208 lived
## 158         198        0      3 42.00     0     1   8.4042  died
## 159         200        0      2 24.00     0     0  13.0000  died
## 160         201        0      3 28.00     0     0   9.5000  died
## 161         203        0      3 34.00     0     0   6.4958  died
## 162         204        0      3 45.50     0     0   7.2250  died
## 163         205        1      3 18.00     0     0   8.0500 lived
## 164         206        0      3  2.00     0     1  10.4625  died
## 165         207        0      3 32.00     1     0  15.8500  died
## 166         208        1      3 26.00     0     0  18.7875 lived
## 167         209        1      3 16.00     0     0   7.7500 lived
## 168         210        1      1 40.00     0     0  31.0000 lived
## 169         211        0      3 24.00     0     0   7.0500  died
## 170         212        1      2 35.00     0     0  21.0000 lived
## 171         213        0      3 22.00     0     0   7.2500  died
## 172         214        0      2 30.00     0     0  13.0000  died
## 173         216        1      1 31.00     1     0 113.2750 lived
## 174         217        1      3 27.00     0     0   7.9250 lived
## 175         218        0      2 42.00     1     0  27.0000  died
## 176         219        1      1 32.00     0     0  76.2917 lived
## 177         220        0      2 30.00     0     0  10.5000  died
## 178         221        1      3 16.00     0     0   8.0500 lived
## 179         222        0      2 27.00     0     0  13.0000  died
## 180         223        0      3 51.00     0     0   8.0500  died
## 181         225        1      1 38.00     1     0  90.0000 lived
## 182         226        0      3 22.00     0     0   9.3500  died
## 183         227        1      2 19.00     0     0  10.5000 lived
## 184         228        0      3 20.50     0     0   7.2500  died
## 185         229        0      2 18.00     0     0  13.0000  died
## 186         231        1      1 35.00     1     0  83.4750 lived
## 187         232        0      3 29.00     0     0   7.7750  died
## 188         233        0      2 59.00     0     0  13.5000  died
## 189         234        1      3  5.00     4     2  31.3875 lived
## 190         235        0      2 24.00     0     0  10.5000  died
## 191         237        0      2 44.00     1     0  26.0000  died
## 192         238        1      2  8.00     0     2  26.2500 lived
## 193         239        0      2 19.00     0     0  10.5000  died
## 194         240        0      2 33.00     0     0  12.2750  died
## 195         243        0      2 29.00     0     0  10.5000  died
## 196         244        0      3 22.00     0     0   7.1250  died
## 197         245        0      3 30.00     0     0   7.2250  died
## 198         246        0      1 44.00     2     0  90.0000  died
## 199         247        0      3 25.00     0     0   7.7750  died
## 200         248        1      2 24.00     0     2  14.5000 lived
## 201         249        1      1 37.00     1     1  52.5542 lived
## 202         250        0      2 54.00     1     0  26.0000  died
## 203         252        0      3 29.00     1     1  10.4625  died
## 204         253        0      1 62.00     0     0  26.5500  died
## 205         254        0      3 30.00     1     0  16.1000  died
## 206         255        0      3 41.00     0     2  20.2125  died
## 207         256        1      3 29.00     0     2  15.2458 lived
## 208         258        1      1 30.00     0     0  86.5000 lived
## 209         259        1      1 35.00     0     0 512.3292 lived
## 210         260        1      2 50.00     0     1  26.0000 lived
## 211         262        1      3  3.00     4     2  31.3875 lived
## 212         263        0      1 52.00     1     1  79.6500  died
## 213         264        0      1 40.00     0     0   0.0000  died
## 214         266        0      2 36.00     0     0  10.5000  died
## 215         267        0      3 16.00     4     1  39.6875  died
## 216         268        1      3 25.00     1     0   7.7750 lived
## 217         269        1      1 58.00     0     1 153.4625 lived
## 218         270        1      1 35.00     0     0 135.6333 lived
## 219         272        1      3 25.00     0     0   0.0000 lived
## 220         273        1      2 41.00     0     1  19.5000 lived
## 221         274        0      1 37.00     0     1  29.7000  died
## 222         276        1      1 63.00     1     0  77.9583 lived
## 223         277        0      3 45.00     0     0   7.7500  died
## 224         279        0      3  7.00     4     1  29.1250  died
## 225         280        1      3 35.00     1     1  20.2500 lived
## 226         281        0      3 65.00     0     0   7.7500  died
## 227         282        0      3 28.00     0     0   7.8542  died
## 228         283        0      3 16.00     0     0   9.5000  died
## 229         284        1      3 19.00     0     0   8.0500 lived
## 230         286        0      3 33.00     0     0   8.6625  died
## 231         287        1      3 30.00     0     0   9.5000 lived
## 232         288        0      3 22.00     0     0   7.8958  died
## 233         289        1      2 42.00     0     0  13.0000 lived
## 234         290        1      3 22.00     0     0   7.7500 lived
## 235         291        1      1 26.00     0     0  78.8500 lived
## 236         292        1      1 19.00     1     0  91.0792 lived
## 237         293        0      2 36.00     0     0  12.8750  died
## 238         294        0      3 24.00     0     0   8.8500  died
## 239         295        0      3 24.00     0     0   7.8958  died
## 240         297        0      3 23.50     0     0   7.2292  died
## 241         298        0      1  2.00     1     2 151.5500  died
## 242         300        1      1 50.00     0     1 247.5208 lived
## 243         303        0      3 19.00     0     0   0.0000  died
## 244         306        1      1  0.92     1     2 151.5500 lived
## 245         308        1      1 17.00     1     0 108.9000 lived
## 246         309        0      2 30.00     1     0  24.0000  died
## 247         310        1      1 30.00     0     0  56.9292 lived
## 248         311        1      1 24.00     0     0  83.1583 lived
## 249         312        1      1 18.00     2     2 262.3750 lived
## 250         313        0      2 26.00     1     1  26.0000  died
## 251         314        0      3 28.00     0     0   7.8958  died
## 252         315        0      2 43.00     1     1  26.2500  died
## 253         316        1      3 26.00     0     0   7.8542 lived
## 254         317        1      2 24.00     1     0  26.0000 lived
## 255         318        0      2 54.00     0     0  14.0000  died
## 256         319        1      1 31.00     0     2 164.8667 lived
## 257         320        1      1 40.00     1     1 134.5000 lived
## 258         321        0      3 22.00     0     0   7.2500  died
## 259         322        0      3 27.00     0     0   7.8958  died
## 260         323        1      2 30.00     0     0  12.3500 lived
## 261         324        1      2 22.00     1     1  29.0000 lived
## 262         326        1      1 36.00     0     0 135.6333 lived
## 263         327        0      3 61.00     0     0   6.2375  died
## 264         328        1      2 36.00     0     0  13.0000 lived
## 265         329        1      3 31.00     1     1  20.5250 lived
## 266         330        1      1 16.00     0     1  57.9792 lived
## 267         332        0      1 45.50     0     0  28.5000  died
## 268         333        0      1 38.00     0     1 153.4625  died
## 269         334        0      3 16.00     2     0  18.0000  died
## 270         337        0      1 29.00     1     0  66.6000  died
## 271         338        1      1 41.00     0     0 134.5000 lived
## 272         339        1      3 45.00     0     0   8.0500 lived
## 273         340        0      1 45.00     0     0  35.5000  died
## 274         341        1      2  2.00     1     1  26.0000 lived
## 275         342        1      1 24.00     3     2 263.0000 lived
## 276         343        0      2 28.00     0     0  13.0000  died
## 277         344        0      2 25.00     0     0  13.0000  died
## 278         345        0      2 36.00     0     0  13.0000  died
## 279         346        1      2 24.00     0     0  13.0000 lived
## 280         347        1      2 40.00     0     0  13.0000 lived
## 281         349        1      3  3.00     1     1  15.9000 lived
## 282         350        0      3 42.00     0     0   8.6625  died
## 283         351        0      3 23.00     0     0   9.2250  died
## 284         353        0      3 15.00     1     1   7.2292  died
## 285         354        0      3 25.00     1     0  17.8000  died
## 286         356        0      3 28.00     0     0   9.5000  died
## 287         357        1      1 22.00     0     1  55.0000 lived
## 288         358        0      2 38.00     0     0  13.0000  died
## 289         361        0      3 40.00     1     4  27.9000  died
## 290         362        0      2 29.00     1     0  27.7208  died
## 291         363        0      3 45.00     0     1  14.4542  died
## 292         364        0      3 35.00     0     0   7.0500  died
## 293         366        0      3 30.00     0     0   7.2500  died
## 294         367        1      1 60.00     1     0  75.2500 lived
## 295         370        1      1 24.00     0     0  69.3000 lived
## 296         371        1      1 25.00     1     0  55.4417 lived
## 297         372        0      3 18.00     1     0   6.4958  died
## 298         373        0      3 19.00     0     0   8.0500  died
## 299         374        0      1 22.00     0     0 135.6333  died
## 300         375        0      3  3.00     3     1  21.0750  died
## 301         377        1      3 22.00     0     0   7.2500 lived
## 302         378        0      1 27.00     0     2 211.5000  died
## 303         379        0      3 20.00     0     0   4.0125  died
## 304         380        0      3 19.00     0     0   7.7750  died
## 305         381        1      1 42.00     0     0 227.5250 lived
## 306         382        1      3  1.00     0     2  15.7417 lived
## 307         383        0      3 32.00     0     0   7.9250  died
## 308         384        1      1 35.00     1     0  52.0000 lived
## 309         386        0      2 18.00     0     0  73.5000  died
## 310         387        0      3  1.00     5     2  46.9000  died
## 311         388        1      2 36.00     0     0  13.0000 lived
## 312         390        1      2 17.00     0     0  12.0000 lived
## 313         391        1      1 36.00     1     2 120.0000 lived
## 314         392        1      3 21.00     0     0   7.7958 lived
## 315         393        0      3 28.00     2     0   7.9250  died
## 316         394        1      1 23.00     1     0 113.2750 lived
## 317         395        1      3 24.00     0     2  16.7000 lived
## 318         396        0      3 22.00     0     0   7.7958  died
## 319         397        0      3 31.00     0     0   7.8542  died
## 320         398        0      2 46.00     0     0  26.0000  died
## 321         399        0      2 23.00     0     0  10.5000  died
## 322         400        1      2 28.00     0     0  12.6500 lived
## 323         401        1      3 39.00     0     0   7.9250 lived
## 324         402        0      3 26.00     0     0   8.0500  died
## 325         403        0      3 21.00     1     0   9.8250  died
## 326         404        0      3 28.00     1     0  15.8500  died
## 327         405        0      3 20.00     0     0   8.6625  died
## 328         406        0      2 34.00     1     0  21.0000  died
## 329         407        0      3 51.00     0     0   7.7500  died
## 330         408        1      2  3.00     1     1  18.7500 lived
## 331         409        0      3 21.00     0     0   7.7750  died
## 332         413        1      1 33.00     1     0  90.0000 lived
## 333         415        1      3 44.00     0     0   7.9250 lived
## 334         417        1      2 34.00     1     1  32.5000 lived
## 335         418        1      2 18.00     0     2  13.0000 lived
## 336         419        0      2 30.00     0     0  13.0000  died
## 337         420        0      3 10.00     0     2  24.1500  died
## 338         422        0      3 21.00     0     0   7.7333  died
## 339         423        0      3 29.00     0     0   7.8750  died
## 340         424        0      3 28.00     1     1  14.4000  died
## 341         425        0      3 18.00     1     1  20.2125  died
## 342         427        1      2 28.00     1     0  26.0000 lived
## 343         428        1      2 19.00     0     0  26.0000 lived
## 344         430        1      3 32.00     0     0   8.0500 lived
## 345         431        1      1 28.00     0     0  26.5500 lived
## 346         433        1      2 42.00     1     0  26.0000 lived
## 347         434        0      3 17.00     0     0   7.1250  died
## 348         435        0      1 50.00     1     0  55.9000  died
## 349         436        1      1 14.00     1     2 120.0000 lived
## 350         437        0      3 21.00     2     2  34.3750  died
## 351         438        1      2 24.00     2     3  18.7500 lived
## 352         439        0      1 64.00     1     4 263.0000  died
## 353         440        0      2 31.00     0     0  10.5000  died
## 354         441        1      2 45.00     1     1  26.2500 lived
## 355         442        0      3 20.00     0     0   9.5000  died
## 356         443        0      3 25.00     1     0   7.7750  died
## 357         444        1      2 28.00     0     0  13.0000 lived
## 358         446        1      1  4.00     0     2  81.8583 lived
## 359         447        1      2 13.00     0     1  19.5000 lived
## 360         448        1      1 34.00     0     0  26.5500 lived
## 361         449        1      3  5.00     2     1  19.2583 lived
## 362         450        1      1 52.00     0     0  30.5000 lived
## 363         451        0      2 36.00     1     2  27.7500  died
## 364         453        0      1 30.00     0     0  27.7500  died
## 365         454        1      1 49.00     1     0  89.1042 lived
## 366         456        1      3 29.00     0     0   7.8958 lived
## 367         457        0      1 65.00     0     0  26.5500  died
## 368         459        1      2 50.00     0     0  10.5000 lived
## 369         461        1      1 48.00     0     0  26.5500 lived
## 370         462        0      3 34.00     0     0   8.0500  died
## 371         463        0      1 47.00     0     0  38.5000  died
## 372         464        0      2 48.00     0     0  13.0000  died
## 373         466        0      3 38.00     0     0   7.0500  died
## 374         468        0      1 56.00     0     0  26.5500  died
## 375         470        1      3  0.75     2     1  19.2583 lived
## 376         472        0      3 38.00     0     0   8.6625  died
## 377         473        1      2 33.00     1     2  27.7500 lived
## 378         474        1      2 23.00     0     0  13.7917 lived
## 379         475        0      3 22.00     0     0   9.8375  died
## 380         477        0      2 34.00     1     0  21.0000  died
## 381         478        0      3 29.00     1     0   7.0458  died
## 382         479        0      3 22.00     0     0   7.5208  died
## 383         480        1      3  2.00     0     1  12.2875 lived
## 384         481        0      3  9.00     5     2  46.9000  died
## 385         483        0      3 50.00     0     0   8.0500  died
## 386         484        1      3 63.00     0     0   9.5875 lived
## 387         485        1      1 25.00     1     0  91.0792 lived
## 388         487        1      1 35.00     1     0  90.0000 lived
## 389         488        0      1 58.00     0     0  29.7000  died
## 390         489        0      3 30.00     0     0   8.0500  died
## 391         490        1      3  9.00     1     1  15.9000 lived
## 392         492        0      3 21.00     0     0   7.2500  died
## 393         493        0      1 55.00     0     0  30.5000  died
## 394         494        0      1 71.00     0     0  49.5042  died
## 395         495        0      3 21.00     0     0   8.0500  died
## 396         497        1      1 54.00     1     0  78.2667 lived
## 397         499        0      1 25.00     1     2 151.5500  died
## 398         500        0      3 24.00     0     0   7.7958  died
## 399         501        0      3 17.00     0     0   8.6625  died
## 400         502        0      3 21.00     0     0   7.7500  died
## 401         504        0      3 37.00     0     0   9.5875  died
## 402         505        1      1 16.00     0     0  86.5000 lived
## 403         506        0      1 18.00     1     0 108.9000  died
## 404         507        1      2 33.00     0     2  26.0000 lived
## 405         509        0      3 28.00     0     0  22.5250  died
## 406         510        1      3 26.00     0     0  56.4958 lived
## 407         511        1      3 29.00     0     0   7.7500 lived
## 408         513        1      1 36.00     0     0  26.2875 lived
## 409         514        1      1 54.00     1     0  59.4000 lived
## 410         515        0      3 24.00     0     0   7.4958  died
## 411         516        0      1 47.00     0     0  34.0208  died
## 412         517        1      2 34.00     0     0  10.5000 lived
## 413         519        1      2 36.00     1     0  26.0000 lived
## 414         520        0      3 32.00     0     0   7.8958  died
## 415         521        1      1 30.00     0     0  93.5000 lived
## 416         522        0      3 22.00     0     0   7.8958  died
## 417         524        1      1 44.00     0     1  57.9792 lived
## 418         526        0      3 40.50     0     0   7.7500  died
## 419         527        1      2 50.00     0     0  10.5000 lived
## 420         529        0      3 39.00     0     0   7.9250  died
## 421         530        0      2 23.00     2     1  11.5000  died
## 422         531        1      2  2.00     1     1  26.0000 lived
## 423         533        0      3 17.00     1     1   7.2292  died
## 424         535        0      3 30.00     0     0   8.6625  died
## 425         536        1      2  7.00     0     2  26.2500 lived
## 426         537        0      1 45.00     0     0  26.5500  died
## 427         538        1      1 30.00     0     0 106.4250 lived
## 428         540        1      1 22.00     0     2  49.5000 lived
## 429         541        1      1 36.00     0     2  71.0000 lived
## 430         542        0      3  9.00     4     2  31.2750  died
## 431         543        0      3 11.00     4     2  31.2750  died
## 432         544        1      2 32.00     1     0  26.0000 lived
## 433         545        0      1 50.00     1     0 106.4250  died
## 434         546        0      1 64.00     0     0  26.0000  died
## 435         547        1      2 19.00     1     0  26.0000 lived
## 436         549        0      3 33.00     1     1  20.5250  died
## 437         550        1      2  8.00     1     1  36.7500 lived
## 438         551        1      1 17.00     0     2 110.8833 lived
## 439         552        0      2 27.00     0     0  26.0000  died
## 440         554        1      3 22.00     0     0   7.2250 lived
## 441         555        1      3 22.00     0     0   7.7750 lived
## 442         556        0      1 62.00     0     0  26.5500  died
## 443         557        1      1 48.00     1     0  39.6000 lived
## 444         559        1      1 39.00     1     1  79.6500 lived
## 445         560        1      3 36.00     1     0  17.4000 lived
## 446         562        0      3 40.00     0     0   7.8958  died
## 447         563        0      2 28.00     0     0  13.5000  died
## 448         566        0      3 24.00     2     0  24.1500  died
## 449         567        0      3 19.00     0     0   7.8958  died
## 450         568        0      3 29.00     0     4  21.0750  died
## 451         570        1      3 32.00     0     0   7.8542 lived
## 452         571        1      2 62.00     0     0  10.5000 lived
## 453         572        1      1 53.00     2     0  51.4792 lived
## 454         573        1      1 36.00     0     0  26.3875 lived
## 455         575        0      3 16.00     0     0   8.0500  died
## 456         576        0      3 19.00     0     0  14.5000  died
## 457         577        1      2 34.00     0     0  13.0000 lived
## 458         578        1      1 39.00     1     0  55.9000 lived
## 459         580        1      3 32.00     0     0   7.9250 lived
## 460         581        1      2 25.00     1     1  30.0000 lived
## 461         582        1      1 39.00     1     1 110.8833 lived
## 462         583        0      2 54.00     0     0  26.0000  died
## 463         584        0      1 36.00     0     0  40.1250  died
## 464         586        1      1 18.00     0     2  79.6500 lived
## 465         587        0      2 47.00     0     0  15.0000  died
## 466         588        1      1 60.00     1     1  79.2000 lived
## 467         589        0      3 22.00     0     0   8.0500  died
## 468         591        0      3 35.00     0     0   7.1250  died
## 469         592        1      1 52.00     1     0  78.2667 lived
## 470         593        0      3 47.00     0     0   7.2500  died
## 471         595        0      2 37.00     1     0  26.0000  died
## 472         596        0      3 36.00     1     1  24.1500  died
## 473         598        0      3 49.00     0     0   0.0000  died
## 474         600        1      1 49.00     1     0  56.9292 lived
## 475         601        1      2 24.00     2     1  27.0000 lived
## 476         604        0      3 44.00     0     0   8.0500  died
## 477         605        1      1 35.00     0     0  26.5500 lived
## 478         606        0      3 36.00     1     0  15.5500  died
## 479         607        0      3 30.00     0     0   7.8958  died
## 480         608        1      1 27.00     0     0  30.5000 lived
## 481         609        1      2 22.00     1     2  41.5792 lived
## 482         610        1      1 40.00     0     0 153.4625 lived
## 483         611        0      3 39.00     1     5  31.2750  died
## 484         615        0      3 35.00     0     0   8.0500  died
## 485         616        1      2 24.00     1     2  65.0000 lived
## 486         617        0      3 34.00     1     1  14.4000  died
## 487         618        0      3 26.00     1     0  16.1000  died
## 488         619        1      2  4.00     2     1  39.0000 lived
## 489         620        0      2 26.00     0     0  10.5000  died
## 490         621        0      3 27.00     1     0  14.4542  died
## 491         622        1      1 42.00     1     0  52.5542 lived
## 492         623        1      3 20.00     1     1  15.7417 lived
## 493         624        0      3 21.00     0     0   7.8542  died
## 494         625        0      3 21.00     0     0  16.1000  died
## 495         626        0      1 61.00     0     0  32.3208  died
## 496         627        0      2 57.00     0     0  12.3500  died
## 497         628        1      1 21.00     0     0  77.9583 lived
## 498         629        0      3 26.00     0     0   7.8958  died
## 499         631        1      1 80.00     0     0  30.0000 lived
## 500         632        0      3 51.00     0     0   7.0542  died
## 501         633        1      1 32.00     0     0  30.5000 lived
## 502         635        0      3  9.00     3     2  27.9000  died
## 503         636        1      2 28.00     0     0  13.0000 lived
## 504         637        0      3 32.00     0     0   7.9250  died
## 505         638        0      2 31.00     1     1  26.2500  died
## 506         639        0      3 41.00     0     5  39.6875  died
## 507         641        0      3 20.00     0     0   7.8542  died
## 508         642        1      1 24.00     0     0  69.3000 lived
## 509         643        0      3  2.00     3     2  27.9000  died
## 510         645        1      3  0.75     2     1  19.2583 lived
## 511         646        1      1 48.00     1     0  76.7292 lived
## 512         647        0      3 19.00     0     0   7.8958  died
## 513         648        1      1 56.00     0     0  35.5000 lived
## 514         650        1      3 23.00     0     0   7.5500 lived
## 515         652        1      2 18.00     0     1  23.0000 lived
## 516         653        0      3 21.00     0     0   8.4333  died
## 517         655        0      3 18.00     0     0   6.7500  died
## 518         656        0      2 24.00     2     0  73.5000  died
## 519         658        0      3 32.00     1     1  15.5000  died
## 520         659        0      2 23.00     0     0  13.0000  died
## 521         660        0      1 58.00     0     2 113.2750  died
## 522         661        1      1 50.00     2     0 133.6500 lived
## 523         662        0      3 40.00     0     0   7.2250  died
## 524         663        0      1 47.00     0     0  25.5875  died
## 525         664        0      3 36.00     0     0   7.4958  died
## 526         665        1      3 20.00     1     0   7.9250 lived
## 527         666        0      2 32.00     2     0  73.5000  died
## 528         667        0      2 25.00     0     0  13.0000  died
## 529         669        0      3 43.00     0     0   8.0500  died
## 530         671        1      2 40.00     1     1  39.0000 lived
## 531         672        0      1 31.00     1     0  52.0000  died
## 532         673        0      2 70.00     0     0  10.5000  died
## 533         674        1      2 31.00     0     0  13.0000 lived
## 534         676        0      3 18.00     0     0   7.7750  died
## 535         677        0      3 24.50     0     0   8.0500  died
## 536         678        1      3 18.00     0     0   9.8417 lived
## 537         679        0      3 43.00     1     6  46.9000  died
## 538         680        1      1 36.00     0     1 512.3292 lived
## 539         682        1      1 27.00     0     0  76.7292 lived
## 540         683        0      3 20.00     0     0   9.2250  died
## 541         684        0      3 14.00     5     2  46.9000  died
## 542         685        0      2 60.00     1     1  39.0000  died
## 543         686        0      2 25.00     1     2  41.5792  died
## 544         687        0      3 14.00     4     1  39.6875  died
## 545         688        0      3 19.00     0     0  10.1708  died
## 546         689        0      3 18.00     0     0   7.7958  died
## 547         690        1      1 15.00     0     1 211.3375 lived
## 548         691        1      1 31.00     1     0  57.0000 lived
## 549         692        1      3  4.00     0     1  13.4167 lived
## 550         694        0      3 25.00     0     0   7.2250  died
## 551         695        0      1 60.00     0     0  26.5500  died
## 552         696        0      2 52.00     0     0  13.5000  died
## 553         697        0      3 44.00     0     0   8.0500  died
## 554         699        0      1 49.00     1     1 110.8833  died
## 555         700        0      3 42.00     0     0   7.6500  died
## 556         701        1      1 18.00     1     0 227.5250 lived
## 557         702        1      1 35.00     0     0  26.2875 lived
## 558         703        0      3 18.00     0     1  14.4542  died
## 559         704        0      3 25.00     0     0   7.7417  died
## 560         705        0      3 26.00     1     0   7.8542  died
## 561         706        0      2 39.00     0     0  26.0000  died
## 562         707        1      2 45.00     0     0  13.5000 lived
## 563         708        1      1 42.00     0     0  26.2875 lived
## 564         709        1      1 22.00     0     0 151.5500 lived
## 565         711        1      1 24.00     0     0  49.5042 lived
## 566         713        1      1 48.00     1     0  52.0000 lived
## 567         714        0      3 29.00     0     0   9.4833  died
## 568         715        0      2 52.00     0     0  13.0000  died
## 569         716        0      3 19.00     0     0   7.6500  died
## 570         717        1      1 38.00     0     0 227.5250 lived
## 571         718        1      2 27.00     0     0  10.5000 lived
## 572         720        0      3 33.00     0     0   7.7750  died
## 573         721        1      2  6.00     0     1  33.0000 lived
## 574         722        0      3 17.00     1     0   7.0542  died
## 575         723        0      2 34.00     0     0  13.0000  died
## 576         724        0      2 50.00     0     0  13.0000  died
## 577         725        1      1 27.00     1     0  53.1000 lived
## 578         726        0      3 20.00     0     0   8.6625  died
## 579         727        1      2 30.00     3     0  21.0000 lived
## 580         729        0      2 25.00     1     0  26.0000  died
## 581         730        0      3 25.00     1     0   7.9250  died
## 582         731        1      1 29.00     0     0 211.3375 lived
## 583         732        0      3 11.00     0     0  18.7875  died
## 584         734        0      2 23.00     0     0  13.0000  died
## 585         735        0      2 23.00     0     0  13.0000  died
## 586         736        0      3 28.50     0     0  16.1000  died
## 587         737        0      3 48.00     1     3  34.3750  died
## 588         738        1      1 35.00     0     0 512.3292 lived
## 589         742        0      1 36.00     1     0  78.8500  died
## 590         743        1      1 21.00     2     2 262.3750 lived
## 591         744        0      3 24.00     1     0  16.1000  died
## 592         745        1      3 31.00     0     0   7.9250 lived
## 593         746        0      1 70.00     1     1  71.0000  died
## 594         747        0      3 16.00     1     1  20.2500  died
## 595         748        1      2 30.00     0     0  13.0000 lived
## 596         749        0      1 19.00     1     0  53.1000  died
## 597         750        0      3 31.00     0     0   7.7500  died
## 598         751        1      2  4.00     1     1  23.0000 lived
## 599         752        1      3  6.00     0     1  12.4750 lived
## 600         753        0      3 33.00     0     0   9.5000  died
## 601         754        0      3 23.00     0     0   7.8958  died
## 602         755        1      2 48.00     1     2  65.0000 lived
## 603         756        1      2  0.67     1     1  14.5000 lived
## 604         757        0      3 28.00     0     0   7.7958  died
## 605         758        0      2 18.00     0     0  11.5000  died
## 606         759        0      3 34.00     0     0   8.0500  died
## 607         760        1      1 33.00     0     0  86.5000 lived
## 608         762        0      3 41.00     0     0   7.1250  died
## 609         763        1      3 20.00     0     0   7.2292 lived
## 610         764        1      1 36.00     1     2 120.0000 lived
## 611         765        0      3 16.00     0     0   7.7750  died
## 612         766        1      1 51.00     1     0  77.9583 lived
## 613         768        0      3 30.50     0     0   7.7500  died
## 614         770        0      3 32.00     0     0   8.3625  died
## 615         771        0      3 24.00     0     0   9.5000  died
## 616         772        0      3 48.00     0     0   7.8542  died
## 617         773        0      2 57.00     0     0  10.5000  died
## 618         775        1      2 54.00     1     3  23.0000 lived
## 619         776        0      3 18.00     0     0   7.7500  died
## 620         778        1      3  5.00     0     0  12.4750 lived
## 621         780        1      1 43.00     0     1 211.3375 lived
## 622         781        1      3 13.00     0     0   7.2292 lived
## 623         782        1      1 17.00     1     0  57.0000 lived
## 624         783        0      1 29.00     0     0  30.0000  died
## 625         785        0      3 25.00     0     0   7.0500  died
## 626         786        0      3 25.00     0     0   7.2500  died
## 627         787        1      3 18.00     0     0   7.4958 lived
## 628         788        0      3  8.00     4     1  29.1250  died
## 629         789        1      3  1.00     1     2  20.5750 lived
## 630         790        0      1 46.00     0     0  79.2000  died
## 631         792        0      2 16.00     0     0  26.0000  died
## 632         795        0      3 25.00     0     0   7.8958  died
## 633         796        0      2 39.00     0     0  13.0000  died
## 634         797        1      1 49.00     0     0  25.9292 lived
## 635         798        1      3 31.00     0     0   8.6833 lived
## 636         799        0      3 30.00     0     0   7.2292  died
## 637         800        0      3 30.00     1     1  24.1500  died
## 638         801        0      2 34.00     0     0  13.0000  died
## 639         802        1      2 31.00     1     1  26.2500 lived
## 640         803        1      1 11.00     1     2 120.0000 lived
## 641         804        1      3  0.42     0     1   8.5167 lived
## 642         805        1      3 27.00     0     0   6.9750 lived
## 643         806        0      3 31.00     0     0   7.7750  died
## 644         807        0      1 39.00     0     0   0.0000  died
## 645         808        0      3 18.00     0     0   7.7750  died
## 646         809        0      2 39.00     0     0  13.0000  died
## 647         810        1      1 33.00     1     0  53.1000 lived
## 648         811        0      3 26.00     0     0   7.8875  died
## 649         812        0      3 39.00     0     0  24.1500  died
## 650         813        0      2 35.00     0     0  10.5000  died
## 651         814        0      3  6.00     4     2  31.2750  died
## 652         815        0      3 30.50     0     0   8.0500  died
## 653         817        0      3 23.00     0     0   7.9250  died
## 654         818        0      2 31.00     1     1  37.0042  died
## 655         819        0      3 43.00     0     0   6.4500  died
## 656         820        0      3 10.00     3     2  27.9000  died
## 657         821        1      1 52.00     1     1  93.5000 lived
## 658         822        1      3 27.00     0     0   8.6625 lived
## 659         823        0      1 38.00     0     0   0.0000  died
## 660         824        1      3 27.00     0     1  12.4750 lived
## 661         825        0      3  2.00     4     1  39.6875  died
## 662         828        1      2  1.00     0     2  37.0042 lived
## 663         830        1      1 62.00     0     0  80.0000 lived
## 664         831        1      3 15.00     1     0  14.4542 lived
## 665         832        1      2  0.83     1     1  18.7500 lived
## 666         834        0      3 23.00     0     0   7.8542  died
## 667         835        0      3 18.00     0     0   8.3000  died
## 668         836        1      1 39.00     1     1  83.1583 lived
## 669         837        0      3 21.00     0     0   8.6625  died
## 670         839        1      3 32.00     0     0  56.4958 lived
## 671         841        0      3 20.00     0     0   7.9250  died
## 672         842        0      2 16.00     0     0  10.5000  died
## 673         843        1      1 30.00     0     0  31.0000 lived
## 674         844        0      3 34.50     0     0   6.4375  died
## 675         845        0      3 17.00     0     0   8.6625  died
## 676         846        0      3 42.00     0     0   7.5500  died
## 677         848        0      3 35.00     0     0   7.8958  died
## 678         849        0      2 28.00     0     1  33.0000  died
## 679         851        0      3  4.00     4     2  31.2750  died
## 680         852        0      3 74.00     0     0   7.7750  died
## 681         853        0      3  9.00     1     1  15.2458  died
## 682         854        1      1 16.00     0     1  39.4000 lived
## 683         855        0      2 44.00     1     0  26.0000  died
## 684         856        1      3 18.00     0     1   9.3500 lived
## 685         857        1      1 45.00     1     1 164.8667 lived
## 686         858        1      1 51.00     0     0  26.5500 lived
## 687         859        1      3 24.00     0     3  19.2583 lived
## 688         861        0      3 41.00     2     0  14.1083  died
## 689         862        0      2 21.00     1     0  11.5000  died
## 690         863        1      1 48.00     0     0  25.9292 lived
## 691         865        0      2 24.00     0     0  13.0000  died
## 692         866        1      2 42.00     0     0  13.0000 lived
## 693         867        1      2 27.00     1     0  13.8583 lived
## 694         868        0      1 31.00     0     0  50.4958  died
## 695         870        1      3  4.00     1     1  11.1333 lived
## 696         871        0      3 26.00     0     0   7.8958  died
## 697         872        1      1 47.00     1     1  52.5542 lived
## 698         873        0      1 33.00     0     0   5.0000  died
## 699         874        0      3 47.00     0     0   9.0000  died
## 700         875        1      2 28.00     1     0  24.0000 lived
## 701         876        1      3 15.00     0     0   7.2250 lived
## 702         877        0      3 20.00     0     0   9.8458  died
## 703         878        0      3 19.00     0     0   7.8958  died
## 704         880        1      1 56.00     0     1  83.1583 lived
## 705         881        1      2 25.00     0     1  26.0000 lived
## 706         882        0      3 33.00     0     0   7.8958  died
## 707         883        0      3 22.00     0     0  10.5167  died
## 708         884        0      2 28.00     0     0  10.5000  died
## 709         885        0      3 25.00     0     0   7.0500  died
## 710         886        0      3 39.00     0     5  29.1250  died
## 711         887        0      2 27.00     0     0  13.0000  died
## 712         888        1      1 19.00     0     0  30.0000 lived
## 713         890        1      1 26.00     0     0  30.0000 lived
## 714         891        0      3 32.00     0     0   7.7500  died
```

---

```r
train_titanic_clean2 &lt;-train_titanic_clean2 %&gt;%
  select(-survived) %&gt;%
  rename(survived = surv)
train_titanic_clean2
```

```
##     passengerid pclass   age sibsp parch     fare survived
## 1             1      3 22.00     1     0   7.2500     died
## 2             2      1 38.00     1     0  71.2833    lived
## 3             3      3 26.00     0     0   7.9250    lived
## 4             4      1 35.00     1     0  53.1000    lived
## 5             5      3 35.00     0     0   8.0500     died
## 6             7      1 54.00     0     0  51.8625     died
## 7             8      3  2.00     3     1  21.0750     died
## 8             9      3 27.00     0     2  11.1333    lived
## 9            10      2 14.00     1     0  30.0708    lived
## 10           11      3  4.00     1     1  16.7000    lived
## 11           12      1 58.00     0     0  26.5500    lived
## 12           13      3 20.00     0     0   8.0500     died
## 13           14      3 39.00     1     5  31.2750     died
## 14           15      3 14.00     0     0   7.8542     died
## 15           16      2 55.00     0     0  16.0000    lived
## 16           17      3  2.00     4     1  29.1250     died
## 17           19      3 31.00     1     0  18.0000     died
## 18           21      2 35.00     0     0  26.0000     died
## 19           22      2 34.00     0     0  13.0000    lived
## 20           23      3 15.00     0     0   8.0292    lived
## 21           24      1 28.00     0     0  35.5000    lived
## 22           25      3  8.00     3     1  21.0750     died
## 23           26      3 38.00     1     5  31.3875    lived
## 24           28      1 19.00     3     2 263.0000     died
## 25           31      1 40.00     0     0  27.7208     died
## 26           34      2 66.00     0     0  10.5000     died
## 27           35      1 28.00     1     0  82.1708     died
## 28           36      1 42.00     1     0  52.0000     died
## 29           38      3 21.00     0     0   8.0500     died
## 30           39      3 18.00     2     0  18.0000     died
## 31           40      3 14.00     1     0  11.2417    lived
## 32           41      3 40.00     1     0   9.4750     died
## 33           42      2 27.00     1     0  21.0000     died
## 34           44      2  3.00     1     2  41.5792    lived
## 35           45      3 19.00     0     0   7.8792    lived
## 36           50      3 18.00     1     0  17.8000     died
## 37           51      3  7.00     4     1  39.6875     died
## 38           52      3 21.00     0     0   7.8000     died
## 39           53      1 49.00     1     0  76.7292    lived
## 40           54      2 29.00     1     0  26.0000    lived
## 41           55      1 65.00     0     1  61.9792     died
## 42           57      2 21.00     0     0  10.5000    lived
## 43           58      3 28.50     0     0   7.2292     died
## 44           59      2  5.00     1     2  27.7500    lived
## 45           60      3 11.00     5     2  46.9000     died
## 46           61      3 22.00     0     0   7.2292     died
## 47           62      1 38.00     0     0  80.0000    lived
## 48           63      1 45.00     1     0  83.4750     died
## 49           64      3  4.00     3     2  27.9000     died
## 50           67      2 29.00     0     0  10.5000    lived
## 51           68      3 19.00     0     0   8.1583     died
## 52           69      3 17.00     4     2   7.9250    lived
## 53           70      3 26.00     2     0   8.6625     died
## 54           71      2 32.00     0     0  10.5000     died
## 55           72      3 16.00     5     2  46.9000     died
## 56           73      2 21.00     0     0  73.5000     died
## 57           74      3 26.00     1     0  14.4542     died
## 58           75      3 32.00     0     0  56.4958    lived
## 59           76      3 25.00     0     0   7.6500     died
## 60           79      2  0.83     0     2  29.0000    lived
## 61           80      3 30.00     0     0  12.4750    lived
## 62           81      3 22.00     0     0   9.0000     died
## 63           82      3 29.00     0     0   9.5000    lived
## 64           84      1 28.00     0     0  47.1000     died
## 65           85      2 17.00     0     0  10.5000    lived
## 66           86      3 33.00     3     0  15.8500    lived
## 67           87      3 16.00     1     3  34.3750     died
## 68           89      1 23.00     3     2 263.0000    lived
## 69           90      3 24.00     0     0   8.0500     died
## 70           91      3 29.00     0     0   8.0500     died
## 71           92      3 20.00     0     0   7.8542     died
## 72           93      1 46.00     1     0  61.1750     died
## 73           94      3 26.00     1     2  20.5750     died
## 74           95      3 59.00     0     0   7.2500     died
## 75           97      1 71.00     0     0  34.6542     died
## 76           98      1 23.00     0     1  63.3583    lived
## 77           99      2 34.00     0     1  23.0000    lived
## 78          100      2 34.00     1     0  26.0000     died
## 79          101      3 28.00     0     0   7.8958     died
## 80          103      1 21.00     0     1  77.2875     died
## 81          104      3 33.00     0     0   8.6542     died
## 82          105      3 37.00     2     0   7.9250     died
## 83          106      3 28.00     0     0   7.8958     died
## 84          107      3 21.00     0     0   7.6500    lived
## 85          109      3 38.00     0     0   7.8958     died
## 86          111      1 47.00     0     0  52.0000     died
## 87          112      3 14.50     1     0  14.4542     died
## 88          113      3 22.00     0     0   8.0500     died
## 89          114      3 20.00     1     0   9.8250     died
## 90          115      3 17.00     0     0  14.4583     died
## 91          116      3 21.00     0     0   7.9250     died
## 92          117      3 70.50     0     0   7.7500     died
## 93          118      2 29.00     1     0  21.0000     died
## 94          119      1 24.00     0     1 247.5208     died
## 95          120      3  2.00     4     2  31.2750     died
## 96          121      2 21.00     2     0  73.5000     died
## 97          123      2 32.50     1     0  30.0708     died
## 98          124      2 32.50     0     0  13.0000    lived
## 99          125      1 54.00     0     1  77.2875     died
## 100         126      3 12.00     1     0  11.2417    lived
## 101         128      3 24.00     0     0   7.1417    lived
## 102         130      3 45.00     0     0   6.9750     died
## 103         131      3 33.00     0     0   7.8958     died
## 104         132      3 20.00     0     0   7.0500     died
## 105         133      3 47.00     1     0  14.5000     died
## 106         134      2 29.00     1     0  26.0000    lived
## 107         135      2 25.00     0     0  13.0000     died
## 108         136      2 23.00     0     0  15.0458     died
## 109         137      1 19.00     0     2  26.2833    lived
## 110         138      1 37.00     1     0  53.1000     died
## 111         139      3 16.00     0     0   9.2167     died
## 112         140      1 24.00     0     0  79.2000     died
## 113         142      3 22.00     0     0   7.7500    lived
## 114         143      3 24.00     1     0  15.8500    lived
## 115         144      3 19.00     0     0   6.7500     died
## 116         145      2 18.00     0     0  11.5000     died
## 117         146      2 19.00     1     1  36.7500     died
## 118         147      3 27.00     0     0   7.7958    lived
## 119         148      3  9.00     2     2  34.3750     died
## 120         149      2 36.50     0     2  26.0000     died
## 121         150      2 42.00     0     0  13.0000     died
## 122         151      2 51.00     0     0  12.5250     died
## 123         152      1 22.00     1     0  66.6000    lived
## 124         153      3 55.50     0     0   8.0500     died
## 125         154      3 40.50     0     2  14.5000     died
## 126         156      1 51.00     0     1  61.3792     died
## 127         157      3 16.00     0     0   7.7333    lived
## 128         158      3 30.00     0     0   8.0500     died
## 129         161      3 44.00     0     1  16.1000     died
## 130         162      2 40.00     0     0  15.7500    lived
## 131         163      3 26.00     0     0   7.7750     died
## 132         164      3 17.00     0     0   8.6625     died
## 133         165      3  1.00     4     1  39.6875     died
## 134         166      3  9.00     0     2  20.5250    lived
## 135         168      3 45.00     1     4  27.9000     died
## 136         170      3 28.00     0     0  56.4958     died
## 137         171      1 61.00     0     0  33.5000     died
## 138         172      3  4.00     4     1  29.1250     died
## 139         173      3  1.00     1     1  11.1333    lived
## 140         174      3 21.00     0     0   7.9250     died
## 141         175      1 56.00     0     0  30.6958     died
## 142         176      3 18.00     1     1   7.8542     died
## 143         178      1 50.00     0     0  28.7125     died
## 144         179      2 30.00     0     0  13.0000     died
## 145         180      3 36.00     0     0   0.0000     died
## 146         183      3  9.00     4     2  31.3875     died
## 147         184      2  1.00     2     1  39.0000    lived
## 148         185      3  4.00     0     2  22.0250    lived
## 149         188      1 45.00     0     0  26.5500    lived
## 150         189      3 40.00     1     1  15.5000     died
## 151         190      3 36.00     0     0   7.8958     died
## 152         191      2 32.00     0     0  13.0000    lived
## 153         192      2 19.00     0     0  13.0000     died
## 154         193      3 19.00     1     0   7.8542    lived
## 155         194      2  3.00     1     1  26.0000    lived
## 156         195      1 44.00     0     0  27.7208    lived
## 157         196      1 58.00     0     0 146.5208    lived
## 158         198      3 42.00     0     1   8.4042     died
## 159         200      2 24.00     0     0  13.0000     died
## 160         201      3 28.00     0     0   9.5000     died
## 161         203      3 34.00     0     0   6.4958     died
## 162         204      3 45.50     0     0   7.2250     died
## 163         205      3 18.00     0     0   8.0500    lived
## 164         206      3  2.00     0     1  10.4625     died
## 165         207      3 32.00     1     0  15.8500     died
## 166         208      3 26.00     0     0  18.7875    lived
## 167         209      3 16.00     0     0   7.7500    lived
## 168         210      1 40.00     0     0  31.0000    lived
## 169         211      3 24.00     0     0   7.0500     died
## 170         212      2 35.00     0     0  21.0000    lived
## 171         213      3 22.00     0     0   7.2500     died
## 172         214      2 30.00     0     0  13.0000     died
## 173         216      1 31.00     1     0 113.2750    lived
## 174         217      3 27.00     0     0   7.9250    lived
## 175         218      2 42.00     1     0  27.0000     died
## 176         219      1 32.00     0     0  76.2917    lived
## 177         220      2 30.00     0     0  10.5000     died
## 178         221      3 16.00     0     0   8.0500    lived
## 179         222      2 27.00     0     0  13.0000     died
## 180         223      3 51.00     0     0   8.0500     died
## 181         225      1 38.00     1     0  90.0000    lived
## 182         226      3 22.00     0     0   9.3500     died
## 183         227      2 19.00     0     0  10.5000    lived
## 184         228      3 20.50     0     0   7.2500     died
## 185         229      2 18.00     0     0  13.0000     died
## 186         231      1 35.00     1     0  83.4750    lived
## 187         232      3 29.00     0     0   7.7750     died
## 188         233      2 59.00     0     0  13.5000     died
## 189         234      3  5.00     4     2  31.3875    lived
## 190         235      2 24.00     0     0  10.5000     died
## 191         237      2 44.00     1     0  26.0000     died
## 192         238      2  8.00     0     2  26.2500    lived
## 193         239      2 19.00     0     0  10.5000     died
## 194         240      2 33.00     0     0  12.2750     died
## 195         243      2 29.00     0     0  10.5000     died
## 196         244      3 22.00     0     0   7.1250     died
## 197         245      3 30.00     0     0   7.2250     died
## 198         246      1 44.00     2     0  90.0000     died
## 199         247      3 25.00     0     0   7.7750     died
## 200         248      2 24.00     0     2  14.5000    lived
## 201         249      1 37.00     1     1  52.5542    lived
## 202         250      2 54.00     1     0  26.0000     died
## 203         252      3 29.00     1     1  10.4625     died
## 204         253      1 62.00     0     0  26.5500     died
## 205         254      3 30.00     1     0  16.1000     died
## 206         255      3 41.00     0     2  20.2125     died
## 207         256      3 29.00     0     2  15.2458    lived
## 208         258      1 30.00     0     0  86.5000    lived
## 209         259      1 35.00     0     0 512.3292    lived
## 210         260      2 50.00     0     1  26.0000    lived
## 211         262      3  3.00     4     2  31.3875    lived
## 212         263      1 52.00     1     1  79.6500     died
## 213         264      1 40.00     0     0   0.0000     died
## 214         266      2 36.00     0     0  10.5000     died
## 215         267      3 16.00     4     1  39.6875     died
## 216         268      3 25.00     1     0   7.7750    lived
## 217         269      1 58.00     0     1 153.4625    lived
## 218         270      1 35.00     0     0 135.6333    lived
## 219         272      3 25.00     0     0   0.0000    lived
## 220         273      2 41.00     0     1  19.5000    lived
## 221         274      1 37.00     0     1  29.7000     died
## 222         276      1 63.00     1     0  77.9583    lived
## 223         277      3 45.00     0     0   7.7500     died
## 224         279      3  7.00     4     1  29.1250     died
## 225         280      3 35.00     1     1  20.2500    lived
## 226         281      3 65.00     0     0   7.7500     died
## 227         282      3 28.00     0     0   7.8542     died
## 228         283      3 16.00     0     0   9.5000     died
## 229         284      3 19.00     0     0   8.0500    lived
## 230         286      3 33.00     0     0   8.6625     died
## 231         287      3 30.00     0     0   9.5000    lived
## 232         288      3 22.00     0     0   7.8958     died
## 233         289      2 42.00     0     0  13.0000    lived
## 234         290      3 22.00     0     0   7.7500    lived
## 235         291      1 26.00     0     0  78.8500    lived
## 236         292      1 19.00     1     0  91.0792    lived
## 237         293      2 36.00     0     0  12.8750     died
## 238         294      3 24.00     0     0   8.8500     died
## 239         295      3 24.00     0     0   7.8958     died
## 240         297      3 23.50     0     0   7.2292     died
## 241         298      1  2.00     1     2 151.5500     died
## 242         300      1 50.00     0     1 247.5208    lived
## 243         303      3 19.00     0     0   0.0000     died
## 244         306      1  0.92     1     2 151.5500    lived
## 245         308      1 17.00     1     0 108.9000    lived
## 246         309      2 30.00     1     0  24.0000     died
## 247         310      1 30.00     0     0  56.9292    lived
## 248         311      1 24.00     0     0  83.1583    lived
## 249         312      1 18.00     2     2 262.3750    lived
## 250         313      2 26.00     1     1  26.0000     died
## 251         314      3 28.00     0     0   7.8958     died
## 252         315      2 43.00     1     1  26.2500     died
## 253         316      3 26.00     0     0   7.8542    lived
## 254         317      2 24.00     1     0  26.0000    lived
## 255         318      2 54.00     0     0  14.0000     died
## 256         319      1 31.00     0     2 164.8667    lived
## 257         320      1 40.00     1     1 134.5000    lived
## 258         321      3 22.00     0     0   7.2500     died
## 259         322      3 27.00     0     0   7.8958     died
## 260         323      2 30.00     0     0  12.3500    lived
## 261         324      2 22.00     1     1  29.0000    lived
## 262         326      1 36.00     0     0 135.6333    lived
## 263         327      3 61.00     0     0   6.2375     died
## 264         328      2 36.00     0     0  13.0000    lived
## 265         329      3 31.00     1     1  20.5250    lived
## 266         330      1 16.00     0     1  57.9792    lived
## 267         332      1 45.50     0     0  28.5000     died
## 268         333      1 38.00     0     1 153.4625     died
## 269         334      3 16.00     2     0  18.0000     died
## 270         337      1 29.00     1     0  66.6000     died
## 271         338      1 41.00     0     0 134.5000    lived
## 272         339      3 45.00     0     0   8.0500    lived
## 273         340      1 45.00     0     0  35.5000     died
## 274         341      2  2.00     1     1  26.0000    lived
## 275         342      1 24.00     3     2 263.0000    lived
## 276         343      2 28.00     0     0  13.0000     died
## 277         344      2 25.00     0     0  13.0000     died
## 278         345      2 36.00     0     0  13.0000     died
## 279         346      2 24.00     0     0  13.0000    lived
## 280         347      2 40.00     0     0  13.0000    lived
## 281         349      3  3.00     1     1  15.9000    lived
## 282         350      3 42.00     0     0   8.6625     died
## 283         351      3 23.00     0     0   9.2250     died
## 284         353      3 15.00     1     1   7.2292     died
## 285         354      3 25.00     1     0  17.8000     died
## 286         356      3 28.00     0     0   9.5000     died
## 287         357      1 22.00     0     1  55.0000    lived
## 288         358      2 38.00     0     0  13.0000     died
## 289         361      3 40.00     1     4  27.9000     died
## 290         362      2 29.00     1     0  27.7208     died
## 291         363      3 45.00     0     1  14.4542     died
## 292         364      3 35.00     0     0   7.0500     died
## 293         366      3 30.00     0     0   7.2500     died
## 294         367      1 60.00     1     0  75.2500    lived
## 295         370      1 24.00     0     0  69.3000    lived
## 296         371      1 25.00     1     0  55.4417    lived
## 297         372      3 18.00     1     0   6.4958     died
## 298         373      3 19.00     0     0   8.0500     died
## 299         374      1 22.00     0     0 135.6333     died
## 300         375      3  3.00     3     1  21.0750     died
## 301         377      3 22.00     0     0   7.2500    lived
## 302         378      1 27.00     0     2 211.5000     died
## 303         379      3 20.00     0     0   4.0125     died
## 304         380      3 19.00     0     0   7.7750     died
## 305         381      1 42.00     0     0 227.5250    lived
## 306         382      3  1.00     0     2  15.7417    lived
## 307         383      3 32.00     0     0   7.9250     died
## 308         384      1 35.00     1     0  52.0000    lived
## 309         386      2 18.00     0     0  73.5000     died
## 310         387      3  1.00     5     2  46.9000     died
## 311         388      2 36.00     0     0  13.0000    lived
## 312         390      2 17.00     0     0  12.0000    lived
## 313         391      1 36.00     1     2 120.0000    lived
## 314         392      3 21.00     0     0   7.7958    lived
## 315         393      3 28.00     2     0   7.9250     died
## 316         394      1 23.00     1     0 113.2750    lived
## 317         395      3 24.00     0     2  16.7000    lived
## 318         396      3 22.00     0     0   7.7958     died
## 319         397      3 31.00     0     0   7.8542     died
## 320         398      2 46.00     0     0  26.0000     died
## 321         399      2 23.00     0     0  10.5000     died
## 322         400      2 28.00     0     0  12.6500    lived
## 323         401      3 39.00     0     0   7.9250    lived
## 324         402      3 26.00     0     0   8.0500     died
## 325         403      3 21.00     1     0   9.8250     died
## 326         404      3 28.00     1     0  15.8500     died
## 327         405      3 20.00     0     0   8.6625     died
## 328         406      2 34.00     1     0  21.0000     died
## 329         407      3 51.00     0     0   7.7500     died
## 330         408      2  3.00     1     1  18.7500    lived
## 331         409      3 21.00     0     0   7.7750     died
## 332         413      1 33.00     1     0  90.0000    lived
## 333         415      3 44.00     0     0   7.9250    lived
## 334         417      2 34.00     1     1  32.5000    lived
## 335         418      2 18.00     0     2  13.0000    lived
## 336         419      2 30.00     0     0  13.0000     died
## 337         420      3 10.00     0     2  24.1500     died
## 338         422      3 21.00     0     0   7.7333     died
## 339         423      3 29.00     0     0   7.8750     died
## 340         424      3 28.00     1     1  14.4000     died
## 341         425      3 18.00     1     1  20.2125     died
## 342         427      2 28.00     1     0  26.0000    lived
## 343         428      2 19.00     0     0  26.0000    lived
## 344         430      3 32.00     0     0   8.0500    lived
## 345         431      1 28.00     0     0  26.5500    lived
## 346         433      2 42.00     1     0  26.0000    lived
## 347         434      3 17.00     0     0   7.1250     died
## 348         435      1 50.00     1     0  55.9000     died
## 349         436      1 14.00     1     2 120.0000    lived
## 350         437      3 21.00     2     2  34.3750     died
## 351         438      2 24.00     2     3  18.7500    lived
## 352         439      1 64.00     1     4 263.0000     died
## 353         440      2 31.00     0     0  10.5000     died
## 354         441      2 45.00     1     1  26.2500    lived
## 355         442      3 20.00     0     0   9.5000     died
## 356         443      3 25.00     1     0   7.7750     died
## 357         444      2 28.00     0     0  13.0000    lived
## 358         446      1  4.00     0     2  81.8583    lived
## 359         447      2 13.00     0     1  19.5000    lived
## 360         448      1 34.00     0     0  26.5500    lived
## 361         449      3  5.00     2     1  19.2583    lived
## 362         450      1 52.00     0     0  30.5000    lived
## 363         451      2 36.00     1     2  27.7500     died
## 364         453      1 30.00     0     0  27.7500     died
## 365         454      1 49.00     1     0  89.1042    lived
## 366         456      3 29.00     0     0   7.8958    lived
## 367         457      1 65.00     0     0  26.5500     died
## 368         459      2 50.00     0     0  10.5000    lived
## 369         461      1 48.00     0     0  26.5500    lived
## 370         462      3 34.00     0     0   8.0500     died
## 371         463      1 47.00     0     0  38.5000     died
## 372         464      2 48.00     0     0  13.0000     died
## 373         466      3 38.00     0     0   7.0500     died
## 374         468      1 56.00     0     0  26.5500     died
## 375         470      3  0.75     2     1  19.2583    lived
## 376         472      3 38.00     0     0   8.6625     died
## 377         473      2 33.00     1     2  27.7500    lived
## 378         474      2 23.00     0     0  13.7917    lived
## 379         475      3 22.00     0     0   9.8375     died
## 380         477      2 34.00     1     0  21.0000     died
## 381         478      3 29.00     1     0   7.0458     died
## 382         479      3 22.00     0     0   7.5208     died
## 383         480      3  2.00     0     1  12.2875    lived
## 384         481      3  9.00     5     2  46.9000     died
## 385         483      3 50.00     0     0   8.0500     died
## 386         484      3 63.00     0     0   9.5875    lived
## 387         485      1 25.00     1     0  91.0792    lived
## 388         487      1 35.00     1     0  90.0000    lived
## 389         488      1 58.00     0     0  29.7000     died
## 390         489      3 30.00     0     0   8.0500     died
## 391         490      3  9.00     1     1  15.9000    lived
## 392         492      3 21.00     0     0   7.2500     died
## 393         493      1 55.00     0     0  30.5000     died
## 394         494      1 71.00     0     0  49.5042     died
## 395         495      3 21.00     0     0   8.0500     died
## 396         497      1 54.00     1     0  78.2667    lived
## 397         499      1 25.00     1     2 151.5500     died
## 398         500      3 24.00     0     0   7.7958     died
## 399         501      3 17.00     0     0   8.6625     died
## 400         502      3 21.00     0     0   7.7500     died
## 401         504      3 37.00     0     0   9.5875     died
## 402         505      1 16.00     0     0  86.5000    lived
## 403         506      1 18.00     1     0 108.9000     died
## 404         507      2 33.00     0     2  26.0000    lived
## 405         509      3 28.00     0     0  22.5250     died
## 406         510      3 26.00     0     0  56.4958    lived
## 407         511      3 29.00     0     0   7.7500    lived
## 408         513      1 36.00     0     0  26.2875    lived
## 409         514      1 54.00     1     0  59.4000    lived
## 410         515      3 24.00     0     0   7.4958     died
## 411         516      1 47.00     0     0  34.0208     died
## 412         517      2 34.00     0     0  10.5000    lived
## 413         519      2 36.00     1     0  26.0000    lived
## 414         520      3 32.00     0     0   7.8958     died
## 415         521      1 30.00     0     0  93.5000    lived
## 416         522      3 22.00     0     0   7.8958     died
## 417         524      1 44.00     0     1  57.9792    lived
## 418         526      3 40.50     0     0   7.7500     died
## 419         527      2 50.00     0     0  10.5000    lived
## 420         529      3 39.00     0     0   7.9250     died
## 421         530      2 23.00     2     1  11.5000     died
## 422         531      2  2.00     1     1  26.0000    lived
## 423         533      3 17.00     1     1   7.2292     died
## 424         535      3 30.00     0     0   8.6625     died
## 425         536      2  7.00     0     2  26.2500    lived
## 426         537      1 45.00     0     0  26.5500     died
## 427         538      1 30.00     0     0 106.4250    lived
## 428         540      1 22.00     0     2  49.5000    lived
## 429         541      1 36.00     0     2  71.0000    lived
## 430         542      3  9.00     4     2  31.2750     died
## 431         543      3 11.00     4     2  31.2750     died
## 432         544      2 32.00     1     0  26.0000    lived
## 433         545      1 50.00     1     0 106.4250     died
## 434         546      1 64.00     0     0  26.0000     died
## 435         547      2 19.00     1     0  26.0000    lived
## 436         549      3 33.00     1     1  20.5250     died
## 437         550      2  8.00     1     1  36.7500    lived
## 438         551      1 17.00     0     2 110.8833    lived
## 439         552      2 27.00     0     0  26.0000     died
## 440         554      3 22.00     0     0   7.2250    lived
## 441         555      3 22.00     0     0   7.7750    lived
## 442         556      1 62.00     0     0  26.5500     died
## 443         557      1 48.00     1     0  39.6000    lived
## 444         559      1 39.00     1     1  79.6500    lived
## 445         560      3 36.00     1     0  17.4000    lived
## 446         562      3 40.00     0     0   7.8958     died
## 447         563      2 28.00     0     0  13.5000     died
## 448         566      3 24.00     2     0  24.1500     died
## 449         567      3 19.00     0     0   7.8958     died
## 450         568      3 29.00     0     4  21.0750     died
## 451         570      3 32.00     0     0   7.8542    lived
## 452         571      2 62.00     0     0  10.5000    lived
## 453         572      1 53.00     2     0  51.4792    lived
## 454         573      1 36.00     0     0  26.3875    lived
## 455         575      3 16.00     0     0   8.0500     died
## 456         576      3 19.00     0     0  14.5000     died
## 457         577      2 34.00     0     0  13.0000    lived
## 458         578      1 39.00     1     0  55.9000    lived
## 459         580      3 32.00     0     0   7.9250    lived
## 460         581      2 25.00     1     1  30.0000    lived
## 461         582      1 39.00     1     1 110.8833    lived
## 462         583      2 54.00     0     0  26.0000     died
## 463         584      1 36.00     0     0  40.1250     died
## 464         586      1 18.00     0     2  79.6500    lived
## 465         587      2 47.00     0     0  15.0000     died
## 466         588      1 60.00     1     1  79.2000    lived
## 467         589      3 22.00     0     0   8.0500     died
## 468         591      3 35.00     0     0   7.1250     died
## 469         592      1 52.00     1     0  78.2667    lived
## 470         593      3 47.00     0     0   7.2500     died
## 471         595      2 37.00     1     0  26.0000     died
## 472         596      3 36.00     1     1  24.1500     died
## 473         598      3 49.00     0     0   0.0000     died
## 474         600      1 49.00     1     0  56.9292    lived
## 475         601      2 24.00     2     1  27.0000    lived
## 476         604      3 44.00     0     0   8.0500     died
## 477         605      1 35.00     0     0  26.5500    lived
## 478         606      3 36.00     1     0  15.5500     died
## 479         607      3 30.00     0     0   7.8958     died
## 480         608      1 27.00     0     0  30.5000    lived
## 481         609      2 22.00     1     2  41.5792    lived
## 482         610      1 40.00     0     0 153.4625    lived
## 483         611      3 39.00     1     5  31.2750     died
## 484         615      3 35.00     0     0   8.0500     died
## 485         616      2 24.00     1     2  65.0000    lived
## 486         617      3 34.00     1     1  14.4000     died
## 487         618      3 26.00     1     0  16.1000     died
## 488         619      2  4.00     2     1  39.0000    lived
## 489         620      2 26.00     0     0  10.5000     died
## 490         621      3 27.00     1     0  14.4542     died
## 491         622      1 42.00     1     0  52.5542    lived
## 492         623      3 20.00     1     1  15.7417    lived
## 493         624      3 21.00     0     0   7.8542     died
## 494         625      3 21.00     0     0  16.1000     died
## 495         626      1 61.00     0     0  32.3208     died
## 496         627      2 57.00     0     0  12.3500     died
## 497         628      1 21.00     0     0  77.9583    lived
## 498         629      3 26.00     0     0   7.8958     died
## 499         631      1 80.00     0     0  30.0000    lived
## 500         632      3 51.00     0     0   7.0542     died
## 501         633      1 32.00     0     0  30.5000    lived
## 502         635      3  9.00     3     2  27.9000     died
## 503         636      2 28.00     0     0  13.0000    lived
## 504         637      3 32.00     0     0   7.9250     died
## 505         638      2 31.00     1     1  26.2500     died
## 506         639      3 41.00     0     5  39.6875     died
## 507         641      3 20.00     0     0   7.8542     died
## 508         642      1 24.00     0     0  69.3000    lived
## 509         643      3  2.00     3     2  27.9000     died
## 510         645      3  0.75     2     1  19.2583    lived
## 511         646      1 48.00     1     0  76.7292    lived
## 512         647      3 19.00     0     0   7.8958     died
## 513         648      1 56.00     0     0  35.5000    lived
## 514         650      3 23.00     0     0   7.5500    lived
## 515         652      2 18.00     0     1  23.0000    lived
## 516         653      3 21.00     0     0   8.4333     died
## 517         655      3 18.00     0     0   6.7500     died
## 518         656      2 24.00     2     0  73.5000     died
## 519         658      3 32.00     1     1  15.5000     died
## 520         659      2 23.00     0     0  13.0000     died
## 521         660      1 58.00     0     2 113.2750     died
## 522         661      1 50.00     2     0 133.6500    lived
## 523         662      3 40.00     0     0   7.2250     died
## 524         663      1 47.00     0     0  25.5875     died
## 525         664      3 36.00     0     0   7.4958     died
## 526         665      3 20.00     1     0   7.9250    lived
## 527         666      2 32.00     2     0  73.5000     died
## 528         667      2 25.00     0     0  13.0000     died
## 529         669      3 43.00     0     0   8.0500     died
## 530         671      2 40.00     1     1  39.0000    lived
## 531         672      1 31.00     1     0  52.0000     died
## 532         673      2 70.00     0     0  10.5000     died
## 533         674      2 31.00     0     0  13.0000    lived
## 534         676      3 18.00     0     0   7.7750     died
## 535         677      3 24.50     0     0   8.0500     died
## 536         678      3 18.00     0     0   9.8417    lived
## 537         679      3 43.00     1     6  46.9000     died
## 538         680      1 36.00     0     1 512.3292    lived
## 539         682      1 27.00     0     0  76.7292    lived
## 540         683      3 20.00     0     0   9.2250     died
## 541         684      3 14.00     5     2  46.9000     died
## 542         685      2 60.00     1     1  39.0000     died
## 543         686      2 25.00     1     2  41.5792     died
## 544         687      3 14.00     4     1  39.6875     died
## 545         688      3 19.00     0     0  10.1708     died
## 546         689      3 18.00     0     0   7.7958     died
## 547         690      1 15.00     0     1 211.3375    lived
## 548         691      1 31.00     1     0  57.0000    lived
## 549         692      3  4.00     0     1  13.4167    lived
## 550         694      3 25.00     0     0   7.2250     died
## 551         695      1 60.00     0     0  26.5500     died
## 552         696      2 52.00     0     0  13.5000     died
## 553         697      3 44.00     0     0   8.0500     died
## 554         699      1 49.00     1     1 110.8833     died
## 555         700      3 42.00     0     0   7.6500     died
## 556         701      1 18.00     1     0 227.5250    lived
## 557         702      1 35.00     0     0  26.2875    lived
## 558         703      3 18.00     0     1  14.4542     died
## 559         704      3 25.00     0     0   7.7417     died
## 560         705      3 26.00     1     0   7.8542     died
## 561         706      2 39.00     0     0  26.0000     died
## 562         707      2 45.00     0     0  13.5000    lived
## 563         708      1 42.00     0     0  26.2875    lived
## 564         709      1 22.00     0     0 151.5500    lived
## 565         711      1 24.00     0     0  49.5042    lived
## 566         713      1 48.00     1     0  52.0000    lived
## 567         714      3 29.00     0     0   9.4833     died
## 568         715      2 52.00     0     0  13.0000     died
## 569         716      3 19.00     0     0   7.6500     died
## 570         717      1 38.00     0     0 227.5250    lived
## 571         718      2 27.00     0     0  10.5000    lived
## 572         720      3 33.00     0     0   7.7750     died
## 573         721      2  6.00     0     1  33.0000    lived
## 574         722      3 17.00     1     0   7.0542     died
## 575         723      2 34.00     0     0  13.0000     died
## 576         724      2 50.00     0     0  13.0000     died
## 577         725      1 27.00     1     0  53.1000    lived
## 578         726      3 20.00     0     0   8.6625     died
## 579         727      2 30.00     3     0  21.0000    lived
## 580         729      2 25.00     1     0  26.0000     died
## 581         730      3 25.00     1     0   7.9250     died
## 582         731      1 29.00     0     0 211.3375    lived
## 583         732      3 11.00     0     0  18.7875     died
## 584         734      2 23.00     0     0  13.0000     died
## 585         735      2 23.00     0     0  13.0000     died
## 586         736      3 28.50     0     0  16.1000     died
## 587         737      3 48.00     1     3  34.3750     died
## 588         738      1 35.00     0     0 512.3292    lived
## 589         742      1 36.00     1     0  78.8500     died
## 590         743      1 21.00     2     2 262.3750    lived
## 591         744      3 24.00     1     0  16.1000     died
## 592         745      3 31.00     0     0   7.9250    lived
## 593         746      1 70.00     1     1  71.0000     died
## 594         747      3 16.00     1     1  20.2500     died
## 595         748      2 30.00     0     0  13.0000    lived
## 596         749      1 19.00     1     0  53.1000     died
## 597         750      3 31.00     0     0   7.7500     died
## 598         751      2  4.00     1     1  23.0000    lived
## 599         752      3  6.00     0     1  12.4750    lived
## 600         753      3 33.00     0     0   9.5000     died
## 601         754      3 23.00     0     0   7.8958     died
## 602         755      2 48.00     1     2  65.0000    lived
## 603         756      2  0.67     1     1  14.5000    lived
## 604         757      3 28.00     0     0   7.7958     died
## 605         758      2 18.00     0     0  11.5000     died
## 606         759      3 34.00     0     0   8.0500     died
## 607         760      1 33.00     0     0  86.5000    lived
## 608         762      3 41.00     0     0   7.1250     died
## 609         763      3 20.00     0     0   7.2292    lived
## 610         764      1 36.00     1     2 120.0000    lived
## 611         765      3 16.00     0     0   7.7750     died
## 612         766      1 51.00     1     0  77.9583    lived
## 613         768      3 30.50     0     0   7.7500     died
## 614         770      3 32.00     0     0   8.3625     died
## 615         771      3 24.00     0     0   9.5000     died
## 616         772      3 48.00     0     0   7.8542     died
## 617         773      2 57.00     0     0  10.5000     died
## 618         775      2 54.00     1     3  23.0000    lived
## 619         776      3 18.00     0     0   7.7500     died
## 620         778      3  5.00     0     0  12.4750    lived
## 621         780      1 43.00     0     1 211.3375    lived
## 622         781      3 13.00     0     0   7.2292    lived
## 623         782      1 17.00     1     0  57.0000    lived
## 624         783      1 29.00     0     0  30.0000     died
## 625         785      3 25.00     0     0   7.0500     died
## 626         786      3 25.00     0     0   7.2500     died
## 627         787      3 18.00     0     0   7.4958    lived
## 628         788      3  8.00     4     1  29.1250     died
## 629         789      3  1.00     1     2  20.5750    lived
## 630         790      1 46.00     0     0  79.2000     died
## 631         792      2 16.00     0     0  26.0000     died
## 632         795      3 25.00     0     0   7.8958     died
## 633         796      2 39.00     0     0  13.0000     died
## 634         797      1 49.00     0     0  25.9292    lived
## 635         798      3 31.00     0     0   8.6833    lived
## 636         799      3 30.00     0     0   7.2292     died
## 637         800      3 30.00     1     1  24.1500     died
## 638         801      2 34.00     0     0  13.0000     died
## 639         802      2 31.00     1     1  26.2500    lived
## 640         803      1 11.00     1     2 120.0000    lived
## 641         804      3  0.42     0     1   8.5167    lived
## 642         805      3 27.00     0     0   6.9750    lived
## 643         806      3 31.00     0     0   7.7750     died
## 644         807      1 39.00     0     0   0.0000     died
## 645         808      3 18.00     0     0   7.7750     died
## 646         809      2 39.00     0     0  13.0000     died
## 647         810      1 33.00     1     0  53.1000    lived
## 648         811      3 26.00     0     0   7.8875     died
## 649         812      3 39.00     0     0  24.1500     died
## 650         813      2 35.00     0     0  10.5000     died
## 651         814      3  6.00     4     2  31.2750     died
## 652         815      3 30.50     0     0   8.0500     died
## 653         817      3 23.00     0     0   7.9250     died
## 654         818      2 31.00     1     1  37.0042     died
## 655         819      3 43.00     0     0   6.4500     died
## 656         820      3 10.00     3     2  27.9000     died
## 657         821      1 52.00     1     1  93.5000    lived
## 658         822      3 27.00     0     0   8.6625    lived
## 659         823      1 38.00     0     0   0.0000     died
## 660         824      3 27.00     0     1  12.4750    lived
## 661         825      3  2.00     4     1  39.6875     died
## 662         828      2  1.00     0     2  37.0042    lived
## 663         830      1 62.00     0     0  80.0000    lived
## 664         831      3 15.00     1     0  14.4542    lived
## 665         832      2  0.83     1     1  18.7500    lived
## 666         834      3 23.00     0     0   7.8542     died
## 667         835      3 18.00     0     0   8.3000     died
## 668         836      1 39.00     1     1  83.1583    lived
## 669         837      3 21.00     0     0   8.6625     died
## 670         839      3 32.00     0     0  56.4958    lived
## 671         841      3 20.00     0     0   7.9250     died
## 672         842      2 16.00     0     0  10.5000     died
## 673         843      1 30.00     0     0  31.0000    lived
## 674         844      3 34.50     0     0   6.4375     died
## 675         845      3 17.00     0     0   8.6625     died
## 676         846      3 42.00     0     0   7.5500     died
## 677         848      3 35.00     0     0   7.8958     died
## 678         849      2 28.00     0     1  33.0000     died
## 679         851      3  4.00     4     2  31.2750     died
## 680         852      3 74.00     0     0   7.7750     died
## 681         853      3  9.00     1     1  15.2458     died
## 682         854      1 16.00     0     1  39.4000    lived
## 683         855      2 44.00     1     0  26.0000     died
## 684         856      3 18.00     0     1   9.3500    lived
## 685         857      1 45.00     1     1 164.8667    lived
## 686         858      1 51.00     0     0  26.5500    lived
## 687         859      3 24.00     0     3  19.2583    lived
## 688         861      3 41.00     2     0  14.1083     died
## 689         862      2 21.00     1     0  11.5000     died
## 690         863      1 48.00     0     0  25.9292    lived
## 691         865      2 24.00     0     0  13.0000     died
## 692         866      2 42.00     0     0  13.0000    lived
## 693         867      2 27.00     1     0  13.8583    lived
## 694         868      1 31.00     0     0  50.4958     died
## 695         870      3  4.00     1     1  11.1333    lived
## 696         871      3 26.00     0     0   7.8958     died
## 697         872      1 47.00     1     1  52.5542    lived
## 698         873      1 33.00     0     0   5.0000     died
## 699         874      3 47.00     0     0   9.0000     died
## 700         875      2 28.00     1     0  24.0000    lived
## 701         876      3 15.00     0     0   7.2250    lived
## 702         877      3 20.00     0     0   9.8458     died
## 703         878      3 19.00     0     0   7.8958     died
## 704         880      1 56.00     0     1  83.1583    lived
## 705         881      2 25.00     0     1  26.0000    lived
## 706         882      3 33.00     0     0   7.8958     died
## 707         883      3 22.00     0     0  10.5167     died
## 708         884      2 28.00     0     0  10.5000     died
## 709         885      3 25.00     0     0   7.0500     died
## 710         886      3 39.00     0     5  29.1250     died
## 711         887      2 27.00     0     0  13.0000     died
## 712         888      1 19.00     0     0  30.0000    lived
## 713         890      1 26.00     0     0  30.0000    lived
## 714         891      3 32.00     0     0   7.7500     died
```

---


```r
train_titanic_clean2 %&gt;%
  group_by(survived) %&gt;%
  count()
```

```
## # A tibble: 2 x 2
## # Groups:   survived [2]
##   survived     n
##   &lt;chr&gt;    &lt;int&gt;
## 1 died       424
## 2 lived      290
```
---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;



```r
library(rsample)
titanic_split &lt;- rsample::initial_split(train_titanic_clean2, prop = 0.9)
titanic_split
```

```
## &lt;643/71/714&gt;
```


---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

# Creamos la receta


```r
library(recipes)
titanic_recipe &lt;- training(titanic_split) %&gt;%
  recipe(survived~., data=titanic_split) %&gt;%
  step_downsample(survived) %&gt;%
  step_corr(all_predictors()) %&gt;%
  step_center(all_predictors(), -all_outcomes()) %&gt;%
  step_scale(all_predictors(), -all_outcomes()) %&gt;%
  prep()
```


---


```r
library(recipes)
titanic_recipe &lt;- training(titanic_split) %&gt;%
  recipe(survived~., data=titanic_split) %&gt;%
  step_downsample(survived) %&gt;%
  step_corr(all_predictors()) %&gt;%
  step_center(all_predictors(), -all_outcomes()) %&gt;%
  step_scale(all_predictors(), -all_outcomes()) %&gt;%
  prep()
titanic_recipe
```

```
## Data Recipe
## 
## Inputs:
## 
##       role #variables
##    outcome          1
##  predictor          6
## 
## Training data contained 643 data points and no missing data.
## 
## Operations:
## 
## Down-sampling based on survived [trained]
## Correlation filter removed no terms [trained]
## Centering for passengerid, pclass, age, sibsp, parch, fare [trained]
## Scaling for passengerid, pclass, age, sibsp, parch, fare [trained]
```

---

```r
titanic_training &lt;- juice(titanic_recipe)
head(titanic_training)
```

```
## # A tibble: 6 x 7
##   passengerid pclass    age  sibsp  parch    fare survived
##         &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;fct&gt;   
## 1      -0.946  1.01   0.162  0.527 -0.521 -0.395  died    
## 2       0.517 -0.169  1.69  -0.569 -0.521 -0.218  died    
## 3       0.533 -0.169  1.21  -0.569 -0.521 -0.410  died    
## 4      -1.27  -1.35   1.69  -0.569  0.698  0.675  died    
## 5      -0.950  1.01  -1.93  -0.569  0.698 -0.489  died    
## 6       0.918 -0.169 -0.325  0.527  1.92   0.0533 died
```

---


```r
titanic_testing &lt;- titanic_recipe %&gt;%
  bake(testing(titanic_split)) 

titanic_testing
```

```
## # A tibble: 71 x 7
##        age   fare  parch passengerid pclass  sibsp survived
##      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;fct&gt;   
##  1  1.69    0.232 -0.521       -1.73  -1.35 -0.569 died    
##  2 -1.93   -0.304  0.698       -1.72   1.01  2.72  died    
##  3 -0.674  -0.531 -0.521       -1.70   1.01 -0.569 died    
##  4  0.580  -0.124  5.57        -1.65   1.01  0.527 lived   
##  5 -0.813  -0.358 -0.521       -1.60   1.01  1.62  died    
##  6 -0.0468 -0.531 -0.521       -1.40   1.01 -0.569 died    
##  7 -0.256  -0.313  1.92        -1.39   1.01  0.527 died    
##  8 -0.395   3.64   0.698       -1.29  -1.35 -0.569 died    
##  9 -1.93   -0.126  1.92        -1.29   1.01  3.82  died    
## 10 -1.23   -0.475 -0.521       -1.26   1.01  0.527 lived   
## # ... with 61 more rows
```


---


```r
library(parsnip)
titanic_ranger &lt;- rand_forest(trees = 100, mode = "classification") %&gt;%
  set_engine("ranger") %&gt;%
  fit(survived~., data = titanic_training)

titanic_ranger
```

```
## parsnip model object
## 
## Fit time:  50ms 
## Ranger result
## 
## Call:
##  ranger::ranger(formula = formula, data = data, num.trees = ~100,      num.threads = 1, verbose = FALSE, seed = sample.int(10^5,          1), probability = TRUE) 
## 
## Type:                             Probability estimation 
## Number of trees:                  100 
## Sample size:                      524 
## Number of independent variables:  6 
## Mtry:                             2 
## Target node size:                 10 
## Variable importance mode:         none 
## Splitrule:                        gini 
## OOB prediction error (Brier s.):  0.2080297
```

---

{randomForest}

```r
titanic_rf &lt;- rand_forest(trees = 100, mode = "classification") %&gt;%
  set_engine("randomForest") %&gt;%
  fit(survived~., data = titanic_training)

titanic_rf
```

```
## parsnip model object
## 
## Fit time:  31ms 
## 
## Call:
##  randomForest(x = as.data.frame(x), y = y, ntree = ~100) 
##                Type of random forest: classification
##                      Number of trees: 100
## No. of variables tried at each split: 2
## 
##         OOB estimate of  error rate: 30.92%
## Confusion matrix:
##       died lived class.error
## died   192    70   0.2671756
## lived   92   170   0.3511450
```

---

## 4Â° ValidaciÃ³n
{ranger}

```r
library(yardstick)
titanic_ranger %&gt;%
  predict(titanic_testing) %&gt;%
  bind_cols(titanic_testing) %&gt;%
  metrics(truth=survived, estimate=.pred_class)
```

```
## # A tibble: 2 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy binary         0.620
## 2 kap      binary         0.228
```

---

{randomForest}

```r
titanic_rf %&gt;%
  predict(titanic_testing) %&gt;%
  bind_cols(titanic_testing) %&gt;%
  metrics(truth=survived, estimate=.pred_class)
```

```
## # A tibble: 2 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy binary         0.648
## 2 kap      binary         0.285
```
---
{ranger}

```r
titanic_ranger %&gt;%
  predict(titanic_testing, type="prob")
```

```
## # A tibble: 71 x 2
##    .pred_died .pred_lived
##         &lt;dbl&gt;       &lt;dbl&gt;
##  1      0.451       0.549
##  2      0.623       0.377
##  3      0.448       0.552
##  4      0.847       0.153
##  5      0.718       0.282
##  6      0.622       0.378
##  7      0.437       0.563
##  8      0.410       0.590
##  9      0.708       0.292
## 10      0.484       0.516
## # ... with 61 more rows
```

---
{ranger}

```r
titanic_probs &lt;- titanic_ranger %&gt;%
  predict(titanic_testing, type = "prob") %&gt;%
  bind_cols(titanic_testing) %&gt;%
  select(.pred_died, .pred_lived, survived, everything())
titanic_probs
```

```
## # A tibble: 71 x 9
##    .pred_died .pred_lived survived     age   fare  parch passengerid pclass
##         &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt;
##  1      0.451       0.549 died      1.69    0.232 -0.521       -1.73  -1.35
##  2      0.623       0.377 died     -1.93   -0.304  0.698       -1.72   1.01
##  3      0.448       0.552 died     -0.674  -0.531 -0.521       -1.70   1.01
##  4      0.847       0.153 lived     0.580  -0.124  5.57        -1.65   1.01
##  5      0.718       0.282 died     -0.813  -0.358 -0.521       -1.60   1.01
##  6      0.622       0.378 died     -0.0468 -0.531 -0.521       -1.40   1.01
##  7      0.437       0.563 died     -0.256  -0.313  1.92        -1.39   1.01
##  8      0.410       0.590 died     -0.395   3.64   0.698       -1.29  -1.35
##  9      0.708       0.292 died     -1.93   -0.126  1.92        -1.29   1.01
## 10      0.484       0.516 lived    -1.23   -0.475 -0.521       -1.26   1.01
## # ... with 61 more rows, and 1 more variable: sibsp &lt;dbl&gt;
```

---


```r
titanic_probs %&gt;%
  gain_curve(.pred_lived, truth=survived) %&gt;%
  glimpse()
```

```
## Observations: 72
## Variables: 4
## $ .n              &lt;dbl&gt; 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 1...
## $ .n_events       &lt;dbl&gt; 0, 0, 1, 1, 1, 1, 1, 2, 3, 3, 3, 3, 4, 4, 4, 5, 5, ...
## $ .percent_tested &lt;dbl&gt; 0.000000, 1.408451, 2.816901, 4.225352, 5.633803, 7...
## $ .percent_found  &lt;dbl&gt; 0.000000, 0.000000, 2.325581, 2.325581, 2.325581, 2...
```

---


```r
titanic_ranger %&gt;%
  predict(titanic_testing) %&gt;%
  bind_cols(titanic_testing) %&gt;%
  select(.pred_class, survived, everything())
```

```
## # A tibble: 71 x 8
##    .pred_class survived     age   fare  parch passengerid pclass  sibsp
##    &lt;fct&gt;       &lt;fct&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1 lived       died      1.69    0.232 -0.521       -1.73  -1.35 -0.569
##  2 died        died     -1.93   -0.304  0.698       -1.72   1.01  2.72 
##  3 lived       died     -0.674  -0.531 -0.521       -1.70   1.01 -0.569
##  4 died        lived     0.580  -0.124  5.57        -1.65   1.01  0.527
##  5 died        died     -0.813  -0.358 -0.521       -1.60   1.01  1.62 
##  6 died        died     -0.0468 -0.531 -0.521       -1.40   1.01 -0.569
##  7 lived       died     -0.256  -0.313  1.92        -1.39   1.01  0.527
##  8 lived       died     -0.395   3.64   0.698       -1.29  -1.35 -0.569
##  9 died        died     -1.93   -0.126  1.92        -1.29   1.01  3.82 
## 10 lived       lived    -1.23   -0.475 -0.521       -1.26   1.01  0.527
## # ... with 61 more rows
```

---



```r
library(ggplot2)
titanic_probs%&gt;%
  gain_curve(.pred_lived, truth=survived) %&gt;%
  autoplot()
```

![](ml-02_files/figure-html/unnamed-chunk-28-1.png)&lt;!-- --&gt;

---


```r
predict(titanic_ranger, titanic_testing, type = "prob") %&gt;%
  bind_cols(predict(titanic_ranger, titanic_testing)) %&gt;%
  bind_cols(select(titanic_testing, survived)) %&gt;%
  metrics(survived, estimate = .pred_class)
```

```
## # A tibble: 2 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy binary         0.620
## 2 kap      binary         0.228
```
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
