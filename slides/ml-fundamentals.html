<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>ml-fundamentals.utf8</title>
    <meta charset="utf-8" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/hygge.css" rel="stylesheet" />
    <link rel="stylesheet" href="animate.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: inverse, center


# &lt;svg style="height:0.8em;top:.04em;position:relative;fill:steelblue;" viewBox="0 0 581 512"&gt;&lt;path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/&gt;&lt;/svg&gt;  para an√°lisis de datos üöÄ&lt;br&gt; &lt;br&gt; 

## üéâModelizaci√≥n con tidymodels üíª&lt;br&gt; &lt;br&gt; &lt;br&gt; 

.large[Roxana N. Villafa√±e | LEMyP | &lt;a href='http://twitter.com/data_datum'&gt;&lt;svg style="height:0.8em;top:.04em;position:relative;fill:steelblue;" viewBox="0 0 512 512"&gt;&lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/&gt;&lt;/svg&gt; @data_datum&lt;/a&gt;] &lt;br&gt; 
.large[Florencia D'Andrea | INTA-CONICET | &lt;a href="http://twitter.com/cantoflor_87"&gt; &lt;svg style="height:0.8em;top:.04em;position:relative;fill:steelblue;" viewBox="0 0 512 512"&gt;&lt;path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/&gt;&lt;/svg&gt; @cantoflor_87&lt;/a&gt;&lt;br&gt;] 


&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt; Slides disponibles en &lt;https://bit.ly/curso-r-fca&gt; ‚ú®
&lt;br&gt; P√°gina web del curso en &lt;https://curso-r-fca.netlify.com&gt; üåü

---
class:center, inverse

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="50%" align="middle" /&gt;

---


&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

&lt;br&gt;&lt;br&gt;
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidym1.png" width="100%" align="center" /&gt;


---

background-image: url(C:/Users/Roxana/curso-r-analisis-datos/img/fondo-madera.png)
background-size: cover
class: center, middle

# Tidymodels es un grupo de paquetes centrado en las tareas de modelizaci√≥n de datos. 
# La modelizaci√≥n consta de varios pasos, la idea es que cada paso lo realice una librer√≠a diferente. 


---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

&lt;br&gt;&lt;br&gt;
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidym2.png" width="100%" align="center" /&gt;

--

### Documentaci√≥n
- Tidymodels https://github.com/tidymodels/tidymodels
- Rsample https://tidymodels.github.io/rsample/
- Recipes https://tidymodels.github.io/recipes/reference/index.html
- Parsnip https://tidymodels.github.io/parsnip/
- Yardstick https://tidymodels.github.io/yardstick/ 

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;


# En primer lugar instalamos tidymodels

```r
install.packages(tidymodels)
```


---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;


# Librer√≠as de Tidymodels

```r
library(tidymodels)
```

```
## This version of Shiny is designed to work with 'htmlwidgets' &gt;= 1.5.
##     Please upgrade via install.packages('htmlwidgets').
```

```
## Registered S3 method overwritten by 'xts':
##   method     from
##   as.zoo.xts zoo
```

```
## -- Attaching packages -------------------------------------- tidymodels 0.0.3 --
```

```
## v broom     0.5.3     v purrr     0.3.3
## v dials     0.0.4     v recipes   0.1.7
## v dplyr     0.8.3     v rsample   0.0.5
## v ggplot2   3.2.1     v tibble    2.1.3
## v infer     0.5.1     v yardstick 0.0.4
## v parsnip   0.0.4
```

```
## -- Conflicts ----------------------------------------- tidymodels_conflicts() --
## x purrr::discard()  masks scales::discard()
## x dplyr::filter()   masks stats::filter()
## x dplyr::lag()      masks stats::lag()
## x ggplot2::margin() masks dials::margin()
## x recipes::step()   masks stats::step()
```

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

# Modelizaci√≥n supervisada

### Clasificaci√≥n: la variable respuesta es una clase, es decir, una variable cualitativa 
En el dataset iris, el tipo de flor, iris setosa, versicolor, virginica.
### Regresi√≥n: la variable respuesta es un valor cuantitativo (un valor num√©rico a predecir). 
Predicci√≥n de precios de casas, seg√∫n variables como el barrio en el que pertenecen, n√∫mero de cuartos, si es de m√°s de un piso, etc. 



---
background-image: url(C:/Users/Roxana/curso-r-analisis-datos/img/text-msg.png)
background-size: cover
class: center, middle

# ‚ú® Data Desbalanceada


---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;

# Dataset: Sonar
Como podemos ver las clases est√°n pr√°cticamente balanceadas


```r
library(mlbench)
data(Sonar)
```


```r
skimr::skim(Sonar)
```


---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/tidymodels.png" width="10%" align="right" /&gt;


```r
skimr::skim(Sonar)
```


Table: Data summary

                                 
-------------------------  ------
Name                       Sonar 
Number of rows             208   
Number of columns          61    
_______________________          
Column type frequency:           
factor                     1     
numeric                    60    
________________________         
Group variables            None  
-------------------------  ------


**Variable type: factor**

skim_variable    n_missing   complete_rate  ordered    n_unique  top_counts    
--------------  ----------  --------------  --------  ---------  --------------
Class                    0               1  FALSE             2  M: 111, R: 97 


**Variable type: numeric**

skim_variable    n_missing   complete_rate   mean     sd     p0    p25    p50    p75   p100  hist  
--------------  ----------  --------------  -----  -----  -----  -----  -----  -----  -----  ------
V1                       0               1   0.03   0.02   0.00   0.01   0.02   0.04   0.14  ‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ 
V2                       0               1   0.04   0.03   0.00   0.02   0.03   0.05   0.23  ‚ñá‚ñÇ‚ñÅ‚ñÅ‚ñÅ 
V3                       0               1   0.04   0.04   0.00   0.02   0.03   0.06   0.31  ‚ñá‚ñÇ‚ñÅ‚ñÅ‚ñÅ 
V4                       0               1   0.05   0.05   0.01   0.02   0.04   0.06   0.43  ‚ñá‚ñÅ‚ñÅ‚ñÅ‚ñÅ 
V5                       0               1   0.08   0.06   0.01   0.04   0.06   0.10   0.40  ‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ 
V6                       0               1   0.10   0.06   0.01   0.07   0.09   0.13   0.38  ‚ñá‚ñá‚ñÇ‚ñÅ‚ñÅ 
V7                       0               1   0.12   0.06   0.00   0.08   0.11   0.15   0.37  ‚ñÉ‚ñá‚ñÉ‚ñÅ‚ñÅ 
V8                       0               1   0.13   0.09   0.01   0.08   0.11   0.17   0.46  ‚ñÜ‚ñá‚ñÇ‚ñÅ‚ñÅ 
V9                       0               1   0.18   0.12   0.01   0.10   0.15   0.23   0.68  ‚ñá‚ñÜ‚ñÇ‚ñÅ‚ñÅ 
V10                      0               1   0.21   0.13   0.01   0.11   0.18   0.27   0.71  ‚ñá‚ñá‚ñÉ‚ñÅ‚ñÅ 
V11                      0               1   0.24   0.13   0.03   0.13   0.22   0.30   0.73  ‚ñÜ‚ñá‚ñÇ‚ñÅ‚ñÅ 
V12                      0               1   0.25   0.14   0.02   0.13   0.25   0.33   0.71  ‚ñá‚ñá‚ñÜ‚ñÇ‚ñÅ 
V13                      0               1   0.27   0.14   0.02   0.17   0.26   0.35   0.71  ‚ñÖ‚ñá‚ñÖ‚ñÇ‚ñÅ 
V14                      0               1   0.30   0.16   0.03   0.18   0.28   0.39   1.00  ‚ñá‚ñá‚ñÉ‚ñÅ‚ñÅ 
V15                      0               1   0.32   0.21   0.00   0.16   0.28   0.45   1.00  ‚ñá‚ñá‚ñÖ‚ñÇ‚ñÅ 
V16                      0               1   0.38   0.23   0.02   0.20   0.30   0.54   1.00  ‚ñá‚ñá‚ñÖ‚ñÉ‚ñÅ 
V17                      0               1   0.42   0.26   0.03   0.21   0.31   0.66   1.00  ‚ñá‚ñá‚ñÉ‚ñÖ‚ñÉ 
V18                      0               1   0.45   0.26   0.04   0.24   0.37   0.68   1.00  ‚ñÜ‚ñá‚ñÇ‚ñÖ‚ñÉ 
V19                      0               1   0.50   0.26   0.05   0.30   0.43   0.73   1.00  ‚ñÉ‚ñá‚ñÉ‚ñÖ‚ñÖ 
V20                      0               1   0.56   0.26   0.07   0.35   0.54   0.81   1.00  ‚ñÖ‚ñá‚ñÜ‚ñÜ‚ñá 
V21                      0               1   0.61   0.26   0.05   0.40   0.62   0.82   1.00  ‚ñÉ‚ñÖ‚ñÜ‚ñá‚ñá 
V22                      0               1   0.62   0.26   0.02   0.41   0.66   0.83   1.00  ‚ñÇ‚ñÖ‚ñÉ‚ñá‚ñá 
V23                      0               1   0.65   0.25   0.06   0.45   0.70   0.85   1.00  ‚ñÇ‚ñÉ‚ñÉ‚ñÜ‚ñá 
V24                      0               1   0.67   0.24   0.02   0.54   0.70   0.87   1.00  ‚ñÇ‚ñÇ‚ñÖ‚ñá‚ñá 
V25                      0               1   0.68   0.24   0.02   0.53   0.72   0.87   1.00  ‚ñÅ‚ñÇ‚ñÉ‚ñÜ‚ñá 
V26                      0               1   0.70   0.24   0.09   0.54   0.75   0.89   1.00  ‚ñÇ‚ñÇ‚ñÉ‚ñÖ‚ñá 
V27                      0               1   0.70   0.25   0.05   0.53   0.75   0.92   1.00  ‚ñÅ‚ñÇ‚ñÉ‚ñÉ‚ñá 
V28                      0               1   0.69   0.24   0.03   0.53   0.73   0.90   1.00  ‚ñÅ‚ñÇ‚ñÉ‚ñÖ‚ñá 
V29                      0               1   0.64   0.24   0.01   0.46   0.68   0.85   1.00  ‚ñÅ‚ñÉ‚ñÜ‚ñÖ‚ñá 
V30                      0               1   0.58   0.22   0.06   0.41   0.61   0.74   1.00  ‚ñÇ‚ñÜ‚ñá‚ñá‚ñÖ 
V31                      0               1   0.50   0.21   0.05   0.35   0.49   0.64   0.97  ‚ñÇ‚ñá‚ñá‚ñÖ‚ñÉ 
V32                      0               1   0.44   0.21   0.04   0.28   0.43   0.58   0.93  ‚ñÖ‚ñá‚ñá‚ñÖ‚ñÇ 
V33                      0               1   0.42   0.21   0.05   0.26   0.39   0.56   1.00  ‚ñÖ‚ñá‚ñÜ‚ñÉ‚ñÅ 
V34                      0               1   0.40   0.23   0.02   0.22   0.35   0.60   0.96  ‚ñÜ‚ñá‚ñÖ‚ñÖ‚ñÇ 
V35                      0               1   0.39   0.26   0.02   0.18   0.31   0.59   1.00  ‚ñá‚ñá‚ñÉ‚ñÖ‚ñÇ 
V36                      0               1   0.38   0.26   0.01   0.15   0.32   0.56   1.00  ‚ñá‚ñÜ‚ñÖ‚ñÉ‚ñÇ 
V37                      0               1   0.36   0.24   0.04   0.16   0.31   0.52   0.95  ‚ñá‚ñÜ‚ñÖ‚ñÇ‚ñÇ 
V38                      0               1   0.34   0.21   0.04   0.17   0.31   0.44   1.00  ‚ñá‚ñá‚ñÉ‚ñÇ‚ñÅ 
V39                      0               1   0.33   0.20   0.04   0.17   0.28   0.43   0.99  ‚ñá‚ñá‚ñÉ‚ñÇ‚ñÅ 
V40                      0               1   0.31   0.18   0.01   0.19   0.28   0.42   0.93  ‚ñÖ‚ñá‚ñÉ‚ñÇ‚ñÅ 
V41                      0               1   0.29   0.17   0.04   0.16   0.26   0.39   0.90  ‚ñá‚ñá‚ñÉ‚ñÇ‚ñÅ 
V42                      0               1   0.28   0.17   0.01   0.16   0.25   0.38   0.82  ‚ñÜ‚ñá‚ñÖ‚ñÇ‚ñÅ 
V43                      0               1   0.25   0.14   0.00   0.16   0.22   0.32   0.77  ‚ñÉ‚ñá‚ñÉ‚ñÅ‚ñÅ 
V44                      0               1   0.21   0.13   0.00   0.13   0.18   0.27   0.78  ‚ñá‚ñá‚ñÇ‚ñÅ‚ñÅ 
V45                      0               1   0.20   0.15   0.00   0.09   0.15   0.23   0.70  ‚ñá‚ñÜ‚ñÅ‚ñÇ‚ñÅ 
V46                      0               1   0.16   0.13   0.00   0.07   0.12   0.20   0.73  ‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ 
V47                      0               1   0.12   0.09   0.00   0.06   0.10   0.15   0.55  ‚ñá‚ñÖ‚ñÅ‚ñÅ‚ñÅ 
V48                      0               1   0.09   0.06   0.00   0.05   0.08   0.12   0.33  ‚ñá‚ñá‚ñÉ‚ñÅ‚ñÅ 
V49                      0               1   0.05   0.04   0.00   0.03   0.04   0.07   0.20  ‚ñá‚ñÜ‚ñÇ‚ñÅ‚ñÅ 
V50                      0               1   0.02   0.01   0.00   0.01   0.02   0.03   0.08  ‚ñá‚ñá‚ñÇ‚ñÅ‚ñÅ 
V51                      0               1   0.02   0.01   0.00   0.01   0.01   0.02   0.10  ‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ 
V52                      0               1   0.01   0.01   0.00   0.01   0.01   0.02   0.07  ‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ 
V53                      0               1   0.01   0.01   0.00   0.01   0.01   0.01   0.04  ‚ñá‚ñÜ‚ñÇ‚ñÅ‚ñÅ 
V54                      0               1   0.01   0.01   0.00   0.01   0.01   0.01   0.04  ‚ñá‚ñá‚ñÇ‚ñÇ‚ñÅ 
V55                      0               1   0.01   0.01   0.00   0.00   0.01   0.01   0.04  ‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ 
V56                      0               1   0.01   0.01   0.00   0.00   0.01   0.01   0.04  ‚ñá‚ñÖ‚ñÅ‚ñÅ‚ñÅ 
V57                      0               1   0.01   0.01   0.00   0.00   0.01   0.01   0.04  ‚ñá‚ñÖ‚ñÅ‚ñÅ‚ñÅ 
V58                      0               1   0.01   0.01   0.00   0.00   0.01   0.01   0.04  ‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ 
V59                      0               1   0.01   0.01   0.00   0.00   0.01   0.01   0.04  ‚ñá‚ñÉ‚ñÅ‚ñÅ‚ñÅ 
V60                      0               1   0.01   0.01   0.00   0.00   0.01   0.01   0.04  ‚ñá‚ñÇ‚ñÅ‚ñÅ‚ñÅ 



---
class: inverse, center

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/rsample.png" width="50%" align="center" /&gt;

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/rsample.png" width="10%" align="right" /&gt;

# 1¬∞Paso: a) Balancear el dataset 

### Como el dataset est√° desbalanceado, vamos a balancearlos de la siguiente forma


```r
sonar_balanc &lt;- recipes::recipe( ~ ., data = Sonar) %&gt;%
  step_downsample(Sonar)
summary(sonar_balanc$Class)
```

```
## Length  Class   Mode 
##      0   NULL   NULL
```


---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/rsample.png" width="10%" align="right" /&gt;

# 1¬∞ Paso: b) Dividir los datos

### Crear un set de datos training / testing con la librer√≠a *rsamples*



```r
sonar_split &lt;- rsample::initial_split(Sonar, prop = 0.6)
sonar_split
```

```
## &lt;125/83/208&gt;
```


Estos son los datos de training/testing/total 

---
background-image: url(C:/Users/Roxana/curso-r-analisis-datos/img/text2.png)
background-size: cover
class: center, middle, inverse

 

# üíª DEMO üíª



---
class: inverse, center

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/recipes.jpg" width="60%" align="center" /&gt;

---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/recipes_allison.png" width="100%" align="center" /&gt;


---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/recipes.jpg" width="10%" align="right" /&gt;

# 2¬∞ Paso: Preprocesamiento

- **recipe()**: empieza una lista de transformaciones a ser aplicadas
- **prep()**: Indica que hay que ejecutar todos los pasos anteriores. 
&lt;br&gt;
- **step_corr()**: remueve todas las variables con alta correlaci√≥n
- **step_center()**: centrar los datos con media igual a 0. 
- **step_scale()**: Normaliza con desv√≠o est√°ndar igual a 1. 
&lt;br&gt;
- **all_predictors()** y **all_outcomes()** son todas las variables predictivas y predictoras



```r
sonar_recipe &lt;- training(sonar_split) %&gt;%
  recipe(Class~.) %&gt;%
  step_corr(all_predictors()) %&gt;%
  step_center(all_predictors(), -all_outcomes()) %&gt;%
  step_scale(all_predictors(), -all_outcomes()) %&gt;%
  prep()
```


---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/recipes.jpg" width="10%" align="right" /&gt;


```r
sonar_recipe &lt;- training(sonar_split) %&gt;%
  recipe(Class~.) %&gt;%
  step_corr(all_predictors()) %&gt;%
  step_center(all_predictors(), -all_outcomes()) %&gt;%
  step_scale(all_predictors(), -all_outcomes()) %&gt;%
  prep()
```


```r
sonar_recipe
```

```
## Data Recipe
## 
## Inputs:
## 
##       role #variables
##    outcome          1
##  predictor         60
## 
## Training data contained 125 data points and no missing data.
## 
## Operations:
## 
## Correlation filter removed V18, V37, V20 [trained]
## Centering for V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, ... [trained]
## Scaling for V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, ... [trained]
```

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/recipes.jpg" width="10%" align="right" /&gt;

- **juice()** se utiliza para darle formato final al dataset antes del procesamiento de los datos


```r
sonar_training &lt;- juice(sonar_recipe)

head(sonar_training)
```

```
## # A tibble: 6 x 58
##        V1      V2      V3     V4     V5     V6     V7      V8     V9     V10
##     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
## 1 -0.372  -0.0956 -0.0736 -0.713  0.317 -0.183  0.352  0.168   0.917 -0.0678
## 2 -0.117   0.477   1.54    1.03   0.352  1.96   1.67   2.44    2.85   2.98  
## 3  1.94    0.705   0.0536 -0.340 -0.314 -0.740 -0.136  1.08    1.27   1.68  
## 4 -0.0184  0.127  -0.436  -0.779 -0.672 -0.176 -0.148  0.411   0.137  0.625 
## 5  0.109   1.49    2.07    1.68   1.57   1.01  -0.844 -0.0412  0.120  0.978 
## 6 -1.03   -0.932  -0.736  -0.456 -0.800 -1.34  -1.34  -1.22   -1.25  -1.31  
## # ... with 48 more variables: V11 &lt;dbl&gt;, V12 &lt;dbl&gt;, V13 &lt;dbl&gt;, V14 &lt;dbl&gt;,
## #   V15 &lt;dbl&gt;, V16 &lt;dbl&gt;, V17 &lt;dbl&gt;, V19 &lt;dbl&gt;, V21 &lt;dbl&gt;, V22 &lt;dbl&gt;,
## #   V23 &lt;dbl&gt;, V24 &lt;dbl&gt;, V25 &lt;dbl&gt;, V26 &lt;dbl&gt;, V27 &lt;dbl&gt;, V28 &lt;dbl&gt;,
## #   V29 &lt;dbl&gt;, V30 &lt;dbl&gt;, V31 &lt;dbl&gt;, V32 &lt;dbl&gt;, V33 &lt;dbl&gt;, V34 &lt;dbl&gt;,
## #   V35 &lt;dbl&gt;, V36 &lt;dbl&gt;, V38 &lt;dbl&gt;, V39 &lt;dbl&gt;, V40 &lt;dbl&gt;, V41 &lt;dbl&gt;,
## #   V42 &lt;dbl&gt;, V43 &lt;dbl&gt;, V44 &lt;dbl&gt;, V45 &lt;dbl&gt;, V46 &lt;dbl&gt;, V47 &lt;dbl&gt;,
## #   V48 &lt;dbl&gt;, V49 &lt;dbl&gt;, V50 &lt;dbl&gt;, V51 &lt;dbl&gt;, V52 &lt;dbl&gt;, V53 &lt;dbl&gt;,
## #   V54 &lt;dbl&gt;, V55 &lt;dbl&gt;, V56 &lt;dbl&gt;, V57 &lt;dbl&gt;, V58 &lt;dbl&gt;, V59 &lt;dbl&gt;,
## #   V60 &lt;dbl&gt;, Class &lt;fct&gt;
```


.footnote[https://tidymodels.github.io/recipes/reference/juice.html
]

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/recipes.jpg" width="10%" align="right" /&gt;


```r
sonar_testing &lt;- sonar_recipe %&gt;%
  bake(testing(sonar_split)) 

sonar_testing
```

```
## # A tibble: 83 x 58
##        V1      V2      V3     V4      V5     V6     V7     V8     V9    V10
##     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1  0.669  0.317   0.923   0.248  0.714   2.46   1.27   2.14   1.09   0.500
##  2 -0.784 -0.638   0.395  -0.717 -0.982  -1.20  -0.300 -0.172 -1.03  -0.700
##  3  0.940  0.385   0.920  -0.490  0.671  -0.289 -0.406 -0.867 -0.361  0.475
##  4 -0.278 -0.0847  0.0608 -0.179 -0.216  -0.836 -0.811 -1.41  -0.968 -0.533
##  5 -0.520 -0.633  -0.268  -0.986 -1.01   -0.704 -0.363 -0.779 -0.752 -1.46 
##  6 -0.689 -0.264  -0.695  -0.502 -0.717  -1.64  -1.66  -0.902 -0.627 -1.02 
##  7 -0.870 -0.869  -0.969  -0.627 -0.741  -0.910 -1.14  -0.505 -0.715 -0.718
##  8 -0.825 -0.934  -0.494  -0.151  0.739   0.814  0.135 -0.475 -0.757 -0.229
##  9  0.253 -0.788  -0.643  -0.191 -0.0595  0.146  0.565  0.105 -0.360  0.530
## 10 -0.368 -1.03   -0.770  -1.00  -1.11   -1.56  -1.12  -1.29  -1.11  -0.824
## # ... with 73 more rows, and 48 more variables: V11 &lt;dbl&gt;, V12 &lt;dbl&gt;,
## #   V13 &lt;dbl&gt;, V14 &lt;dbl&gt;, V15 &lt;dbl&gt;, V16 &lt;dbl&gt;, V17 &lt;dbl&gt;, V19 &lt;dbl&gt;,
## #   V21 &lt;dbl&gt;, V22 &lt;dbl&gt;, V23 &lt;dbl&gt;, V24 &lt;dbl&gt;, V25 &lt;dbl&gt;, V26 &lt;dbl&gt;,
## #   V27 &lt;dbl&gt;, V28 &lt;dbl&gt;, V29 &lt;dbl&gt;, V30 &lt;dbl&gt;, V31 &lt;dbl&gt;, V32 &lt;dbl&gt;,
## #   V33 &lt;dbl&gt;, V34 &lt;dbl&gt;, V35 &lt;dbl&gt;, V36 &lt;dbl&gt;, V38 &lt;dbl&gt;, V39 &lt;dbl&gt;,
## #   V40 &lt;dbl&gt;, V41 &lt;dbl&gt;, V42 &lt;dbl&gt;, V43 &lt;dbl&gt;, V44 &lt;dbl&gt;, V45 &lt;dbl&gt;,
## #   V46 &lt;dbl&gt;, V47 &lt;dbl&gt;, V48 &lt;dbl&gt;, V49 &lt;dbl&gt;, V50 &lt;dbl&gt;, V51 &lt;dbl&gt;,
## #   V52 &lt;dbl&gt;, V53 &lt;dbl&gt;, V54 &lt;dbl&gt;, V55 &lt;dbl&gt;, V56 &lt;dbl&gt;, V57 &lt;dbl&gt;,
## #   V58 &lt;dbl&gt;, V59 &lt;dbl&gt;, V60 &lt;dbl&gt;, Class &lt;fct&gt;
```


.footnote[https://tidymodels.github.io/recipes/reference/bake.html
]
---
class: inverse, center

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/parsnip_h.png" width="70%" align="center" /&gt;

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/parsnip_allison.png" width="100%" align="center" /&gt;

---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/parsnip.png" width="15%" align="right" /&gt;

## 3¬∞ Entrenamiento

- Para a entrenar un modelo de random forest con librer√≠a {ranger} y {randomForest} en el set de entrenamiento. 
- Se puede entrenar cualquier modelo de clasificaci√≥n

```r
sonar_ranger &lt;- rand_forest(trees = 100, mode = "classification") %&gt;%
  set_engine("ranger") %&gt;%
  fit(Class~., data = sonar_training)

sonar_ranger
```

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/parsnip.png" width="15%" align="right" /&gt;
{ranger}

```r
sonar_ranger &lt;- rand_forest(trees = 100, mode = "classification") %&gt;%
  set_engine("ranger") %&gt;%
  fit(Class~., data = sonar_training)

sonar_ranger
```

```
## parsnip model object
## 
## Fit in:  51msRanger result
## 
## Call:
##  ranger::ranger(formula = formula, data = data, num.trees = ~100,      num.threads = 1, verbose = FALSE, seed = sample.int(10^5,          1), probability = TRUE) 
## 
## Type:                             Probability estimation 
## Number of trees:                  100 
## Sample size:                      125 
## Number of independent variables:  57 
## Mtry:                             7 
## Target node size:                 10 
## Variable importance mode:         none 
## Splitrule:                        gini 
## OOB prediction error (Brier s.):  0.1576798
```


---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/parsnip.png" width="15%" align="right" /&gt;

{randomForest}

```r
sonar_rf &lt;- rand_forest(trees = 100, mode = "classification") %&gt;%
  set_engine("randomForest") %&gt;%
  fit(Class~., data = sonar_training)

sonar_rf
```

```
## parsnip model object
## 
## Fit in:  61ms
## Call:
##  randomForest(x = as.data.frame(x), y = y, ntree = ~100) 
##                Type of random forest: classification
##                      Number of trees: 100
## No. of variables tried at each split: 7
## 
##         OOB estimate of  error rate: 20.8%
## Confusion matrix:
##    M  R class.error
## M 62  9   0.1267606
## R 17 37   0.3148148
```

---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/parsnip.png" width="15%" align="right" /&gt;


```r
predict(sonar_ranger, sonar_testing)
```

```
## # A tibble: 83 x 1
##    .pred_class
##    &lt;fct&gt;      
##  1 M          
##  2 R          
##  3 M          
##  4 M          
##  5 R          
##  6 R          
##  7 R          
##  8 R          
##  9 M          
## 10 R          
## # ... with 73 more rows
```



---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/parsnip.png" width="15%" align="right" /&gt;


```r
sonar_ranger %&gt;%
  predict(sonar_testing) %&gt;%
  bind_cols(sonar_testing) 
```

```
## # A tibble: 83 x 59
##    .pred_class     V1      V2      V3     V4      V5     V6     V7     V8     V9
##    &lt;fct&gt;        &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1 M            0.669  0.317   0.923   0.248  0.714   2.46   1.27   2.14   1.09 
##  2 R           -0.784 -0.638   0.395  -0.717 -0.982  -1.20  -0.300 -0.172 -1.03 
##  3 M            0.940  0.385   0.920  -0.490  0.671  -0.289 -0.406 -0.867 -0.361
##  4 M           -0.278 -0.0847  0.0608 -0.179 -0.216  -0.836 -0.811 -1.41  -0.968
##  5 R           -0.520 -0.633  -0.268  -0.986 -1.01   -0.704 -0.363 -0.779 -0.752
##  6 R           -0.689 -0.264  -0.695  -0.502 -0.717  -1.64  -1.66  -0.902 -0.627
##  7 R           -0.870 -0.869  -0.969  -0.627 -0.741  -0.910 -1.14  -0.505 -0.715
##  8 R           -0.825 -0.934  -0.494  -0.151  0.739   0.814  0.135 -0.475 -0.757
##  9 M            0.253 -0.788  -0.643  -0.191 -0.0595  0.146  0.565  0.105 -0.360
## 10 R           -0.368 -1.03   -0.770  -1.00  -1.11   -1.56  -1.12  -1.29  -1.11 
## # ... with 73 more rows, and 49 more variables: V10 &lt;dbl&gt;, V11 &lt;dbl&gt;,
## #   V12 &lt;dbl&gt;, V13 &lt;dbl&gt;, V14 &lt;dbl&gt;, V15 &lt;dbl&gt;, V16 &lt;dbl&gt;, V17 &lt;dbl&gt;,
## #   V19 &lt;dbl&gt;, V21 &lt;dbl&gt;, V22 &lt;dbl&gt;, V23 &lt;dbl&gt;, V24 &lt;dbl&gt;, V25 &lt;dbl&gt;,
## #   V26 &lt;dbl&gt;, V27 &lt;dbl&gt;, V28 &lt;dbl&gt;, V29 &lt;dbl&gt;, V30 &lt;dbl&gt;, V31 &lt;dbl&gt;,
## #   V32 &lt;dbl&gt;, V33 &lt;dbl&gt;, V34 &lt;dbl&gt;, V35 &lt;dbl&gt;, V36 &lt;dbl&gt;, V38 &lt;dbl&gt;,
## #   V39 &lt;dbl&gt;, V40 &lt;dbl&gt;, V41 &lt;dbl&gt;, V42 &lt;dbl&gt;, V43 &lt;dbl&gt;, V44 &lt;dbl&gt;,
## #   V45 &lt;dbl&gt;, V46 &lt;dbl&gt;, V47 &lt;dbl&gt;, V48 &lt;dbl&gt;, V49 &lt;dbl&gt;, V50 &lt;dbl&gt;,
## #   V51 &lt;dbl&gt;, V52 &lt;dbl&gt;, V53 &lt;dbl&gt;, V54 &lt;dbl&gt;, V55 &lt;dbl&gt;, V56 &lt;dbl&gt;,
## #   V57 &lt;dbl&gt;, V58 &lt;dbl&gt;, V59 &lt;dbl&gt;, V60 &lt;dbl&gt;, Class &lt;fct&gt;
```

---
class: inverse, center

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/yardstick.png" width="60%" align="center" /&gt;



---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/yardstick.jpg" width="10%" align="right" /&gt;

### 4¬∞ Validaci√≥n


```r
sonar_ranger %&gt;%
  predict(sonar_testing) %&gt;%
  bind_cols(sonar_testing) %&gt;%
  metrics(truth=Class, estimate=.pred_class)
```

```
## # A tibble: 2 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy binary         0.831
## 2 kap      binary         0.665
```

---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/yardstick.jpg" width="10%" align="right" /&gt;



```r
sonar_rf %&gt;%
  predict(sonar_testing) %&gt;%
  bind_cols(sonar_testing) %&gt;%
  metrics(truth=Class, estimate=.pred_class)
```

```
## # A tibble: 2 x 3
##   .metric  .estimator .estimate
##   &lt;chr&gt;    &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy binary         0.819
## 2 kap      binary         0.642
```

---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/yardstick.jpg" width="10%" align="right" /&gt;


```r
sonar_ranger %&gt;%
  predict(sonar_testing, type="prob")
```

```
## # A tibble: 83 x 2
##    .pred_M .pred_R
##      &lt;dbl&gt;   &lt;dbl&gt;
##  1   0.521   0.479
##  2   0.456   0.544
##  3   0.709   0.291
##  4   0.571   0.429
##  5   0.382   0.618
##  6   0.412   0.588
##  7   0.464   0.536
##  8   0.329   0.671
##  9   0.685   0.315
## 10   0.307   0.693
## # ... with 73 more rows
```
---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/yardstick.jpg" width="10%" align="right" /&gt;



```r
sonar_probs &lt;- sonar_ranger %&gt;%
  predict(sonar_testing, type = "prob") %&gt;%
  bind_cols(sonar_testing)
sonar_probs
```

```
## # A tibble: 83 x 60
##    .pred_M .pred_R     V1      V2      V3     V4      V5     V6     V7     V8
##      &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1   0.521   0.479  0.669  0.317   0.923   0.248  0.714   2.46   1.27   2.14 
##  2   0.456   0.544 -0.784 -0.638   0.395  -0.717 -0.982  -1.20  -0.300 -0.172
##  3   0.709   0.291  0.940  0.385   0.920  -0.490  0.671  -0.289 -0.406 -0.867
##  4   0.571   0.429 -0.278 -0.0847  0.0608 -0.179 -0.216  -0.836 -0.811 -1.41 
##  5   0.382   0.618 -0.520 -0.633  -0.268  -0.986 -1.01   -0.704 -0.363 -0.779
##  6   0.412   0.588 -0.689 -0.264  -0.695  -0.502 -0.717  -1.64  -1.66  -0.902
##  7   0.464   0.536 -0.870 -0.869  -0.969  -0.627 -0.741  -0.910 -1.14  -0.505
##  8   0.329   0.671 -0.825 -0.934  -0.494  -0.151  0.739   0.814  0.135 -0.475
##  9   0.685   0.315  0.253 -0.788  -0.643  -0.191 -0.0595  0.146  0.565  0.105
## 10   0.307   0.693 -0.368 -1.03   -0.770  -1.00  -1.11   -1.56  -1.12  -1.29 
## # ... with 73 more rows, and 50 more variables: V9 &lt;dbl&gt;, V10 &lt;dbl&gt;, V11 &lt;dbl&gt;,
## #   V12 &lt;dbl&gt;, V13 &lt;dbl&gt;, V14 &lt;dbl&gt;, V15 &lt;dbl&gt;, V16 &lt;dbl&gt;, V17 &lt;dbl&gt;,
## #   V19 &lt;dbl&gt;, V21 &lt;dbl&gt;, V22 &lt;dbl&gt;, V23 &lt;dbl&gt;, V24 &lt;dbl&gt;, V25 &lt;dbl&gt;,
## #   V26 &lt;dbl&gt;, V27 &lt;dbl&gt;, V28 &lt;dbl&gt;, V29 &lt;dbl&gt;, V30 &lt;dbl&gt;, V31 &lt;dbl&gt;,
## #   V32 &lt;dbl&gt;, V33 &lt;dbl&gt;, V34 &lt;dbl&gt;, V35 &lt;dbl&gt;, V36 &lt;dbl&gt;, V38 &lt;dbl&gt;,
## #   V39 &lt;dbl&gt;, V40 &lt;dbl&gt;, V41 &lt;dbl&gt;, V42 &lt;dbl&gt;, V43 &lt;dbl&gt;, V44 &lt;dbl&gt;,
## #   V45 &lt;dbl&gt;, V46 &lt;dbl&gt;, V47 &lt;dbl&gt;, V48 &lt;dbl&gt;, V49 &lt;dbl&gt;, V50 &lt;dbl&gt;,
## #   V51 &lt;dbl&gt;, V52 &lt;dbl&gt;, V53 &lt;dbl&gt;, V54 &lt;dbl&gt;, V55 &lt;dbl&gt;, V56 &lt;dbl&gt;,
## #   V57 &lt;dbl&gt;, V58 &lt;dbl&gt;, V59 &lt;dbl&gt;, V60 &lt;dbl&gt;, Class &lt;fct&gt;
```

---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/yardstick.jpg" width="10%" align="right" /&gt;



```r
sonar_probs %&gt;%
  gain_curve(.pred_M, truth=Class) %&gt;%
  glimpse()
```

```
## Observations: 84
## Variables: 4
## $ .n              &lt;dbl&gt; 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 1...
## $ .n_events       &lt;dbl&gt; 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 1...
## $ .percent_tested &lt;dbl&gt; 0.000000, 1.204819, 2.409639, 3.614458, 4.819277, 6...
## $ .percent_found  &lt;dbl&gt; 0.0, 2.5, 5.0, 7.5, 10.0, 12.5, 15.0, 17.5, 20.0, 2...
```


---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/yardstick.jpg" width="10%" align="right" /&gt;


```r
sonar_probs%&gt;%
  gain_curve(.pred_M, truth=Class) %&gt;%
  autoplot()
```

![](ml-fundamentals_files/figure-html/unnamed-chunk-24-1.png)&lt;!-- --&gt;


---
&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/yardstick.jpg" width="10%" align="right" /&gt;


```r
sonar_probs%&gt;%
  roc_curve(.pred_M, truth=Class) %&gt;%
  autoplot()
```

![](ml-fundamentals_files/figure-html/unnamed-chunk-25-1.png)&lt;!-- --&gt;

---

&lt;img src="C://Users/Roxana/curso-r-analisis-datos/img/yardstick.jpg" width="10%" align="right" /&gt;



```r
predict(sonar_ranger, sonar_testing, type = "prob") %&gt;%
  bind_cols(predict(sonar_ranger, sonar_testing)) %&gt;%
  bind_cols(select(sonar_testing, Class)) %&gt;%
  metrics(Class, .pred_M, estimate = .pred_class)
```

```
## # A tibble: 4 x 3
##   .metric     .estimator .estimate
##   &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt;
## 1 accuracy    binary         0.831
## 2 kap         binary         0.665
## 3 mn_log_loss binary         0.460
## 4 roc_auc     binary         0.927
```


---
# Bibliograf√≠a

- Tutorial de Tidymodels
https://rviews.rstudio.com/2019/06/19/a-gentle-intro-to-tidymodels/
- Tutorial de Tidymodels (espa√±ol)
https://diegokoz.github.io/EEA2019/clase%208/tidymodels.nb.html
- parsnip: A tidy model interface - Max Kuhn (video)
bit.ly/parsnip-rstudioconf2019 
- Recipes for data Preprocessing - Max Kuhn (video)
bit.ly/recipes-useR2018






---


```r
sessionInfo() 
```

```
## R version 3.6.2 (2019-12-12)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 18362)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=Spanish_Argentina.1252  LC_CTYPE=Spanish_Argentina.1252   
## [3] LC_MONETARY=Spanish_Argentina.1252 LC_NUMERIC=C                      
## [5] LC_TIME=Spanish_Argentina.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] mlbench_2.1-1     yardstick_0.0.4   tibble_2.1.3      rsample_0.0.5    
##  [5] tidyr_1.0.0       recipes_0.1.7     purrr_0.3.3       parsnip_0.0.4    
##  [9] infer_0.5.1       ggplot2_3.2.1     dplyr_0.8.3       dials_0.0.4      
## [13] scales_1.0.0      broom_0.5.3       tidymodels_0.0.3  emo_0.0.0.9000   
## [17] fontawesome_0.1.0
## 
## loaded via a namespace (and not attached):
##   [1] backports_1.1.5       xaringan_0.13         tidytext_0.2.2       
##   [4] plyr_1.8.4            igraph_1.2.4.1        repr_1.0.2           
##   [7] lazyeval_0.2.2        splines_3.6.2         crosstalk_1.0.0      
##  [10] listenv_0.7.0         SnowballC_0.6.0       rstantools_1.5.1     
##  [13] inline_0.3.15         digest_0.6.23         htmltools_0.4.0      
##  [16] rsconnect_0.8.15      fansi_0.4.0           magrittr_1.5         
##  [19] globals_0.12.4        gower_0.2.1           matrixStats_0.54.0   
##  [22] xts_0.11-2            prettyunits_1.0.2     colorspace_1.4-1     
##  [25] skimr_2.0.2           xfun_0.11             callr_3.3.1          
##  [28] crayon_1.3.4          jsonlite_1.6          lme4_1.1-21          
##  [31] zeallot_0.1.0         survival_3.1-8        zoo_1.8-6            
##  [34] glue_1.3.1            gtable_0.3.0          ipred_0.9-9          
##  [37] pkgbuild_1.0.4        rstan_2.19.2          miniUI_0.1.1.1       
##  [40] Rcpp_1.0.3            xtable_1.8-4          stats4_3.6.2         
##  [43] lava_1.6.6            StanHeaders_2.18.1-10 prodlim_2018.04.18   
##  [46] DT_0.8                htmlwidgets_1.3       threejs_0.3.1        
##  [49] pkgconfig_2.0.3       loo_2.1.0             nnet_7.3-12          
##  [52] utf8_1.1.4            labeling_0.3          tidyselect_0.2.5     
##  [55] rlang_0.4.2           DiceDesign_1.8-1      reshape2_1.4.3       
##  [58] later_1.0.0           munsell_0.5.0         tools_3.6.2          
##  [61] cli_1.1.0             generics_0.0.2        ranger_0.11.2        
##  [64] ggridges_0.5.1        evaluate_0.14         stringr_1.4.0        
##  [67] fastmap_1.0.1         yaml_2.2.0            processx_3.4.1       
##  [70] knitr_1.26            randomForest_4.6-14   future_1.14.0        
##  [73] nlme_3.1-142          mime_0.7              rstanarm_2.18.2      
##  [76] tokenizers_0.2.1      compiler_3.6.2        bayesplot_1.7.0      
##  [79] shinythemes_1.1.2     rstudioapi_0.10       tidyposterior_0.0.2  
##  [82] stringi_1.4.3         highr_0.8             ps_1.3.0             
##  [85] lattice_0.20-38       Matrix_1.2-18         nloptr_1.2.1         
##  [88] markdown_1.1          shinyjs_1.0           vctrs_0.2.0          
##  [91] pillar_1.4.2          lifecycle_0.1.0       furrr_0.1.0          
##  [94] httpuv_1.5.2          R6_2.4.0              promises_1.1.0       
##  [97] gridExtra_2.3         janeaustenr_0.1.5     codetools_0.2-16     
## [100] boot_1.3-23           colourpicker_1.0      MASS_7.3-51.4        
## [103] gtools_3.8.1          assertthat_0.2.1      withr_2.1.2          
## [106] shinystan_2.5.0       parallel_3.6.2        grid_3.6.2           
## [109] rpart_4.1-15          timeDate_3043.102     class_7.3-15         
## [112] minqa_1.2.4           rmarkdown_2.0         pROC_1.15.3          
## [115] tidypredict_0.4.3     shiny_1.4.0           lubridate_1.7.4      
## [118] base64enc_0.1-3       dygraphs_1.1.1.6
```
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
